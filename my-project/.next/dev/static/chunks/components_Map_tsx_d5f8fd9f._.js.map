{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/gavrilbogdan/Documents/GitHub/CleanTM/marian/Untitled/my-project/components/Map.tsx"],"sourcesContent":["\"use client\";\n\nimport L from \"leaflet\";\n// We silence TS for plugin + CSS imports but keep runtime behavior identical.\n// These imports are needed so the plugins and styles load in the bundle.\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport \"leaflet.markercluster\";\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport \"leaflet.markercluster/dist/MarkerCluster.css\";\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport \"leaflet.markercluster/dist/MarkerCluster.Default.css\";\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nimport \"leaflet/dist/leaflet.css\";\n\nimport { useEffect, useMemo, useRef, useState, useCallback } from \"react\";\n\n/* ──────────────────────────────────────────\n   BASE DATA\n   ────────────────────────────────────────── */\n\nconst FALLBACK_PROBLEMS = [\n  {\n    id: 1,\n    title: \"Pile of trash on Calea Șagului\",\n    desc: \"Torn bags, PET bottles and waste dumped near the sidewalk. Needs quick cleanup.\",\n    pos: { lat: 45.7225, lng: 21.226 },\n    type: \"salubritate\",\n    priority: \"mare\",\n  },\n  {\n    id: 2,\n    title: \"Overflowing trash bins\",\n    desc: \"Bins are full, garbage falls on the ground and is blown away by the wind.\",\n    pos: { lat: 45.7578, lng: 21.229 },\n    type: \"salubritate\",\n    priority: \"medie\",\n  },\n  {\n    id: 3,\n    title: \"PET bottles on the Bega riverbank\",\n    desc: \"Plastic bottles and bags floating on the water and along the riverbank. Needs an eco-cleanup action.\",\n    pos: { lat: 45.7705, lng: 21.2444 },\n    type: \"ecologizare\",\n    priority: \"medie\",\n  },\n  {\n    id: 4,\n    title: \"Dirty tram station\",\n    desc: \"Food leftovers, cigarette butts and packaging thrown next to the bench.\",\n    pos: { lat: 45.7401, lng: 21.2705 },\n    type: \"salubritate\",\n    priority: \"mică\",\n  },\n  {\n    id: 5,\n    title: \"Mud and litter after rain\",\n    desc: \"Puddles full of cigarette butts, bags and paper gathered on the edge of the sidewalk.\",\n    pos: { lat: 45.7642, lng: 21.2041 },\n    type: \"salubritate\",\n    priority: \"medie\",\n  },\n  {\n    id: 6,\n    title: \"Sidewalk covered in trash\",\n    desc: \"Boxes, cans and paper scattered around, making it hard for pedestrians to pass.\",\n    pos: { lat: 45.75, lng: 21.3 },\n    type: \"salubritate\",\n    priority: \"mică\",\n  },\n  {\n    id: 7,\n    title: \"Trash island near crosswalk\",\n    desc: \"Bags, bottles and household waste gathered at the street corner.\",\n    pos: { lat: 45.79, lng: 21.23 },\n    type: \"salubritate\",\n    priority: \"mică\",\n  },\n  {\n    id: 8,\n    title: \"Parking area full of litter\",\n    desc: \"Food leftovers, coffee cups and bags left next to cars.\",\n    pos: { lat: 45.7195, lng: 21.24 },\n    type: \"salubritate\",\n    priority: \"mică\",\n  },\n  {\n    id: 9,\n    title: \"Containers used incorrectly\",\n    desc: \"Glass and plastic bottles thrown next to the containers instead of inside them.\",\n    pos: { lat: 45.706, lng: 21.17 },\n    type: \"deseuri\",\n    priority: \"mică\",\n  },\n  {\n    id: 10,\n    title: \"No recycling bins\",\n    desc: \"Busy area, but only regular bins exist, no separate bins for recycling.\",\n    pos: { lat: 45.77, lng: 21.26 },\n    type: \"ecologizare\",\n    priority: \"medie\",\n  },\n  {\n    id: 11,\n    title: \"Trash on the sidewalk near apartment blocks\",\n    desc: \"Cardboard boxes, torn bags and bulky waste left on the sidewalk.\",\n    pos: { lat: 45.7512, lng: 21.22 },\n    type: \"salubritate\",\n    priority: \"medie\",\n  },\n  {\n    id: 12,\n    title: \"Waste hanging in trees\",\n    desc: \"Plastic bags stuck in branches, giving the area a neglected look.\",\n    pos: { lat: 45.7583, lng: 21.214 },\n    type: \"ecologizare\",\n    priority: \"mare\",\n  },\n  {\n    id: 13,\n    title: \"Bus stop with trash at the base\",\n    desc: \"Cigarette butts, packaging and empty bottles next to the stop pole.\",\n    pos: { lat: 45.7444, lng: 21.205 },\n    type: \"salubritate\",\n    priority: \"mică\",\n  },\n  {\n    id: 14,\n    title: \"Pile of waste on green space\",\n    desc: \"Household garbage bags dumped directly on the grass.\",\n    pos: { lat: 45.7321, lng: 21.197 },\n    type: \"deseuri\",\n    priority: \"medie\",\n  },\n  {\n    id: 15,\n    title: \"Playground full of packaging\",\n    desc: \"Bottles, bags and paper everywhere, near the slide and swings.\",\n    pos: { lat: 45.7673, lng: 21.222 },\n    type: \"salubritate\",\n    priority: \"mare\",\n  },\n  {\n    id: 16,\n    title: \"Debris floating near drains\",\n    desc: \"Leaves mixed with PET bottles and bags blocking the drain.\",\n    pos: { lat: 45.7811, lng: 21.232 },\n    type: \"deseuri\",\n    priority: \"medie\",\n  },\n  {\n    id: 17,\n    title: \"Park with dirty alleys\",\n    desc: \"Sunflower seed shells, juice boxes and bottles thrown on the ground.\",\n    pos: { lat: 45.7485, lng: 21.252 },\n    type: \"ecologizare\",\n    priority: \"mică\",\n  },\n  {\n    id: 18,\n    title: \"Trash under pedestrian bridge\",\n    desc: \"Bottles, cans and garbage bags dumped under the bridge, hard to access.\",\n    pos: { lat: 45.754, lng: 21.241 },\n    type: \"deseuri\",\n    priority: \"mare\",\n  },\n  {\n    id: 19,\n    title: \"Green area full of plastic\",\n    desc: \"Tall grass mixed with lots of PET bottles and cans.\",\n    pos: { lat: 45.7615, lng: 21.2105 },\n    type: \"ecologizare\",\n    priority: \"mică\",\n  },\n  {\n    id: 20,\n    title: \"Dirty pedestrian underpass\",\n    desc: \"Papers, cigarette butts and packaging gathered along the stairs.\",\n    pos: { lat: 45.7452, lng: 21.259 },\n    type: \"salubritate\",\n    priority: \"mare\",\n  },\n  {\n    id: 21,\n    title: \"School entrance with litter\",\n    desc: \"Students leave packaging and bottles at the gate, not enough bins.\",\n    pos: { lat: 45.769, lng: 21.216 },\n    type: \"ecologizare\",\n    priority: \"mare\",\n  },\n  {\n    id: 22,\n    title: \"Unmaintained garbage platform\",\n    desc: \"Waste thrown on the ground around the dumpsters, strong smell.\",\n    pos: { lat: 45.737, lng: 21.238 },\n    type: \"salubritate\",\n    priority: \"mare\",\n  },\n  {\n    id: 23,\n    title: \"Construction debris by the roadside\",\n    desc: \"Pieces of concrete, cement bags and rubble left randomly.\",\n    pos: { lat: 45.713, lng: 21.225 },\n    type: \"deseuri\",\n    priority: \"mică\",\n  },\n  {\n    id: 24,\n    title: \"Pedestrian bridge with graffiti and trash\",\n    desc: \"Spray paint, papers and empty bottles along the whole bridge.\",\n    pos: { lat: 45.752, lng: 21.19 },\n    type: \"ecologizare\",\n    priority: \"medie\",\n  },\n  {\n    id: 25,\n    title: \"Construction site area full of debris\",\n    desc: \"Foil, polystyrene and wood pieces blown onto public space.\",\n    pos: { lat: 45.776, lng: 21.205 },\n    type: \"deseuri\",\n    priority: \"mică\",\n  },\n  {\n    id: 26,\n    title: \"Tram stop with broken glass\",\n    desc: \"Shards and glass caps on the ground, danger for pedestrians.\",\n    pos: { lat: 45.783, lng: 21.246 },\n    type: \"salubritate\",\n    priority: \"medie\",\n  },\n  {\n    id: 27,\n    title: \"Sports field with litter\",\n    desc: \"PET bottles, bags and packaging left on the field and near the fence.\",\n    pos: { lat: 45.731, lng: 21.254 },\n    type: \"ecologizare\",\n    priority: \"mică\",\n  },\n  {\n    id: 28,\n    title: \"Scooter and trash on sidewalk\",\n    desc: \"Scooter left in the middle plus empty bottles around it.\",\n    pos: { lat: 45.742, lng: 21.218 },\n    type: \"salubritate\",\n    priority: \"mică\",\n  },\n  {\n    id: 29,\n    title: \"Open dumpsters and scattered trash\",\n    desc: \"Waste blown around by wind and animals around the dumpsters.\",\n    pos: { lat: 45.755, lng: 21.227 },\n    type: \"deseuri\",\n    priority: \"medie\",\n  },\n  {\n    id: 30,\n    title: \"Uncleaned public transport stop\",\n    desc: \"Papers, juice boxes and bottles on the ground, no sanitation intervention.\",\n    pos: { lat: 45.768, lng: 21.234 },\n    type: \"salubritate\",\n    priority: \"mică\",\n  },\n];\n\nconst MAP_CENTER: [number, number] = [45.7489, 21.2087];\nconst TILE_DARK =\n  \"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png\";\n\nconst THREE_HOURS_MS = 3 * 60 * 60 * 1000;\n\ntype BaseProblem = (typeof FALLBACK_PROBLEMS)[number];\n\ninterface ProblemWithState extends BaseProblem {\n  status?: \"pending\" | \"accepted\" | \"finished\";\n  acceptedAt?: number;\n  hasImage?: boolean;\n  difficulty: number;\n  basePoints: number;\n  points: number;\n}\n\n/* ──────────────────────────────────────────\n   HELPERS\n   ────────────────────────────────────────── */\n\nfunction getPriorityColor(priority: string): string {\n  if (priority === \"mare\") return \"#ef4444\"; // high\n  if (priority === \"medie\") return \"#facc15\"; // medium\n  if (priority === \"mică\") return \"#22c55e\"; // low\n  return \"#22c55e\";\n}\n\nfunction getPriorityLabel(priority: string): string {\n  if (priority === \"mare\") return \"High\";\n  if (priority === \"medie\") return \"Medium\";\n  if (priority === \"mică\") return \"Low\";\n  return priority;\n}\n\nfunction escapeText(text: string) {\n  return String(text)\n    .replace(/&/g, \"&amp;\")\n    .replace(/</g, \"&lt;\")\n    .replace(/>/g, \"&gt;\");\n}\n\n// prepare: add state, difficulty, points, shuffle, return 10 + the rest\nfunction prepareProblems(source: BaseProblem[], count: number) {\n  const withState: ProblemWithState[] = source.map((p) => {\n    const difficulty =\n      p.priority === \"mare\" ? 3 : p.priority === \"medie\" ? 2 : 1;\n    const basePoints = 10;\n    const points = basePoints * difficulty;\n\n    return {\n      ...p,\n      status: \"pending\",\n      hasImage: false,\n      difficulty,\n      basePoints,\n      points,\n    };\n  });\n\n  const copy = [...withState];\n  for (let i = copy.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [copy[i], copy[j]] = [copy[j], copy[i]];\n  }\n\n  const sliceIndex = Math.min(count, copy.length);\n  return {\n    initial: copy.slice(0, sliceIndex),\n    rest: copy.slice(sliceIndex),\n  };\n}\n\nfunction formatTimeLeft(ms: number): string {\n  const clamped = Math.max(0, ms);\n  const totalSeconds = Math.floor(clamped / 1000);\n  const h = Math.floor(totalSeconds / 3600);\n  const m = Math.floor((totalSeconds % 3600) / 60);\n  const s = totalSeconds % 60;\n  const pad = (n: number) => n.toString().padStart(2, \"0\");\n  return `${pad(h)}:${pad(m)}:${pad(s)}`;\n}\n\n/* ──────────────────────────────────────────\n   HEATMAP CARD\n   ────────────────────────────────────────── */\n\nfunction HeatmapCard({ problems }: { problems: ProblemWithState[] }) {\n  const mapRef = useRef<L.Map | null>(null);\n  const heatLayerRef = useRef<any>(null);\n  const [heatEnabled, setHeatEnabled] = useState(false);\n  const [leaflet, setLeaflet] = useState<any>(null);\n\n  const MAP_CENTER_LOCAL = [45.7489, 21.2087];\n  const TILE_DARK_LOCAL =\n    \"https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png\";\n\n  useEffect(() => {\n    (async () => {\n      const leafletModule = await import(\"leaflet\");\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore - plugin has no TS types in this project\n      await import(\"leaflet.heat\");\n      const LInstance = leafletModule.default || leafletModule;\n      setLeaflet(LInstance);\n    })();\n  }, []);\n\n  useEffect(() => {\n    if (!leaflet || mapRef.current) return;\n    const LInstance = leaflet as typeof L;\n\n    const map = LInstance.map(\"heatmap-container\", {\n      center: MAP_CENTER_LOCAL as [number, number],\n      zoom: 12,\n      zoomControl: true,\n      attributionControl: false,\n      dragging: true,\n      scrollWheelZoom: false,\n      doubleClickZoom: false,\n      boxZoom: false,\n      keyboard: false,\n    });\n\n    LInstance.tileLayer(TILE_DARK_LOCAL, { maxZoom: 18 }).addTo(map);\n    mapRef.current = map;\n  }, [leaflet]);\n\n  useEffect(() => {\n    if (!leaflet || !mapRef.current) return;\n    const LInstance: any = leaflet;\n\n    if (heatEnabled) {\n      const heatData = problems.map((p) => [\n        p.pos.lat,\n        p.pos.lng,\n        p.priority === \"mare\" ? 1.0 : p.priority === \"medie\" ? 0.8 : 0.6,\n      ]);\n\n      if (!heatLayerRef.current) {\n        heatLayerRef.current = LInstance.heatLayer(heatData, {\n          radius: 40,\n          blur: 15,\n          maxZoom: 17,\n          gradient: {\n            0.2: \"#00ff5e\",\n            0.4: \"#a3e635\",\n            0.6: \"#facc15\",\n            0.8: \"#f97316\",\n            1.0: \"#dc2626\",\n          },\n        });\n      } else {\n        heatLayerRef.current.setLatLngs(heatData);\n      }\n\n      heatLayerRef.current.addTo(mapRef.current);\n    } else if (heatLayerRef.current) {\n      mapRef.current!.removeLayer(heatLayerRef.current);\n    }\n  }, [heatEnabled, leaflet, problems]);\n\n  return (\n    <div className=\"mt-30 w-full\">\n      <div className=\"bg-[#020617]/90 border border-[#1e293b] rounded-2xl shadow-xl p-6 max-w-7xl mx-auto backdrop-blur-xl\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <h2 className=\"text-xl font-semibold text-emerald-50\">\n            Heatmap — Problem distribution\n          </h2>\n\n          <button\n            onClick={() => setHeatEnabled((v) => !v)}\n            className={`px-4 py-2 rounded-lg text-sm font-semibold transition ${\n              heatEnabled\n                ? \"bg-emerald-600 hover:bg-emerald-700\"\n                : \"bg-[#1e293b] hover:bg-[#243045]\"\n            }`}\n          >\n            {heatEnabled ? \"Disable heatmap\" : \"Enable heatmap\"}\n          </button>\n        </div>\n\n        <div\n          id=\"heatmap-container\"\n          className=\"w-full h-[500px] rounded-xl overflow-hidden border border-[#1e293b]\"\n        />\n      </div>\n    </div>\n  );\n}\n\n/* ──────────────────────────────────────────\n   MAIN COMPONENT\n   ────────────────────────────────────────── */\n\nexport default function TimisoaraProblemsMap() {\n  const mapContainerRef = useRef<HTMLDivElement | null>(null);\n  const mapRef = useRef<L.Map | null>(null);\n\n  // MarkerCluster plugin doesn’t have TS types here; use `any` for the ref.\n  const clusterRef = useRef<any>(null);\n\n  const markersRef = useRef<{ id: number; marker: L.Marker }[]>([]);\n  const poolRef = useRef<ProblemWithState[]>([]); // for replacing rejected tasks\n\n  const [problems, setProblems] = useState<ProblemWithState[]>([]);\n  const [loadingMap, setLoadingMap] = useState(true);\n  const [loadingData, setLoadingData] = useState(true);\n  const [selectedProblem, setSelectedProblem] =\n    useState<ProblemWithState | null>(null);\n  const [filters, setFilters] = useState({ type: \"toate\", priority: \"toate\" });\n\n  // Global timer for countdowns\n  const [now, setNow] = useState<number>(Date.now());\n\n  // User points (from backend — like TasksPage)\n  const [userPoints, setUserPoints] = useState<number>(0);\n\n  useEffect(() => {\n    const interval = setInterval(() => setNow(Date.now()), 1000);\n    return () => clearInterval(interval);\n  }, []);\n\n  // Fetch user points (same logic as in TasksPage)\n  useEffect(() => {\n    fetch(\"/api/auth/me\")\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.user && typeof data.user.points === \"number\") {\n          setUserPoints(data.user.points);\n        }\n      })\n      .catch((err) => console.error(\"Error fetching user points:\", err));\n  }, []);\n\n  // on mount: load 10 random problems (from API or fallback) + keep the rest in poolRef\n  const fetchProblems = useCallback(async () => {\n    try {\n      const res = await fetch(\"/api/problems\");\n      if (!res.ok) throw new Error(\"No API\");\n      const json = await res.json();\n\n      const source: BaseProblem[] =\n        Array.isArray(json.problems) && json.problems.length > 0\n          ? json.problems\n          : FALLBACK_PROBLEMS;\n\n      const { initial, rest } = prepareProblems(source, 10);\n      setProblems(initial);\n      poolRef.current = rest;\n    } catch {\n      const { initial, rest } = prepareProblems(FALLBACK_PROBLEMS, 10);\n      setProblems(initial);\n      poolRef.current = rest;\n    } finally {\n      setLoadingData(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    fetchProblems();\n  }, [fetchProblems]);\n\n  useEffect(() => {\n    if (!mapContainerRef.current || mapRef.current) return;\n\n    const map = L.map(mapContainerRef.current, {\n      center: MAP_CENTER,\n      zoom: 13,\n      zoomControl: true,\n      attributionControl: true,\n    });\n\n    L.tileLayer(TILE_DARK, { maxZoom: 19 }).addTo(map);\n\n    // MarkerCluster plugin is attached to L via side-effect imports above.\n    const clusterGroup = (L as any).markerClusterGroup({\n      showCoverageOnHover: false,\n      maxClusterRadius: 45,\n    });\n\n    clusterGroup.addTo(map);\n    clusterRef.current = clusterGroup;\n    mapRef.current = map;\n    setLoadingMap(false);\n  }, []);\n\n  const filteredProblems = useMemo(() => {\n    return problems.filter((p) => {\n      const okType = filters.type === \"toate\" || filters.type === p.type;\n      const okPr =\n        filters.priority === \"toate\" || filters.priority === p.priority;\n      return okType && okPr;\n    });\n  }, [problems, filters]);\n\n  // markers + popups\n  useEffect(() => {\n    if (!clusterRef.current || !mapRef.current) return;\n\n    clusterRef.current.clearLayers();\n    markersRef.current = [];\n\n    filteredProblems.forEach((p) => {\n      const markerIcon = L.divIcon({\n        className: \"marker-wrapper\",\n        iconSize: [22, 22],\n        iconAnchor: [11, 11],\n        html: `\n          <div class=\"marker-pulse\"\n               style=\"background:${getPriorityColor(p.priority)};\n                      border:2px solid #000;\">\n          </div>\n        `,\n      });\n\n      const marker = L.marker([p.pos.lat, p.pos.lng], { icon: markerIcon });\n\n      const popupHtml = `\n        <div class=\"popup-card\">\n          <div class=\"popup-title\">${escapeText(p.title)}</div>\n          <div class=\"popup-desc\">${escapeText(p.desc)}</div>\n          <div class=\"popup-meta\">\n            <span class=\"popup-pill\">${escapeText(p.type)}</span>\n            <span class=\"popup-pill\">${escapeText(\n              getPriorityLabel(p.priority)\n            )}</span>\n            <span class=\"popup-id\">#${p.id}</span>\n          </div>\n        </div>\n     `;\n\n      marker.bindPopup(popupHtml);\n      marker.on(\"click\", () => setSelectedProblem(p));\n\n      clusterRef.current!.addLayer(marker);\n      markersRef.current.push({ id: p.id, marker });\n    });\n\n    if (filteredProblems.length > 0) {\n      const bounds = L.latLngBounds(\n        filteredProblems.map((p) => [p.pos.lat, p.pos.lng])\n      );\n      mapRef.current!.fitBounds(bounds, { padding: [40, 40] });\n    }\n  }, [filteredProblems]);\n\n  const handleListClick = (problem: ProblemWithState) => {\n    const found = markersRef.current.find((m) => m.id === problem.id);\n    if (!found || !mapRef.current) return;\n    mapRef.current.setView(found.marker.getLatLng(), 16, { animate: true });\n    found.marker.openPopup();\n    setSelectedProblem(problem);\n  };\n\n  const handleAccept = (id: number) => {\n    setProblems((prev) =>\n      prev.map((p) =>\n        p.id === id\n          ? {\n              ...p,\n              status: \"accepted\",\n              acceptedAt: p.acceptedAt ?? Date.now(),\n            }\n          : p\n      )\n    );\n  };\n\n  const handleReject = (id: number) => {\n    setProblems((prev) => {\n      const remaining = prev.filter((p) => p.id !== id);\n\n      if (poolRef.current.length > 0) {\n        const [next, ...rest] = poolRef.current;\n        poolRef.current = rest;\n        return [...remaining, next];\n      }\n\n      return remaining;\n    });\n  };\n\n  const handleImageUploaded = (id: number) => {\n    setProblems((prev) =>\n      prev.map((p) => (p.id === id ? { ...p, hasImage: true } : p))\n    );\n  };\n\n  // Finish quest and award points (like TasksPage.finishTask)\n  const handleFinish = async (id: number) => {\n    const problem = problems.find((p) => p.id === id);\n    if (!problem || !problem.hasImage) return;\n\n    try {\n      const res = await fetch(\"/api/tasks/addPoints\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ points: problem.points }),\n      });\n      const data = await res.json();\n\n      if (data.user && typeof data.user.points === \"number\") {\n        setUserPoints(data.user.points);\n      }\n\n      setProblems((prev) =>\n        prev.map((p) => (p.id === id ? { ...p, status: \"finished\" } : p))\n      );\n    } catch (err) {\n      console.error(\"Error updating points:\", err);\n    }\n  };\n\n  const totalText = loadingData\n    ? \"Loading...\"\n    : `Filtered problems: ${filteredProblems.length}`;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-emerald-900 pt-28 pb-20 text-emerald-50\">\n      <div className=\"max-w-7xl mx-auto px-6\">\n        {/* HEADER */}\n        <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between mb-8\">\n          <div>\n            <div className=\"inline-flex items-center gap-2 rounded-full bg-emerald-500/10 border border-emerald-400/40 px-4 py-1 text-[11px] font-semibold uppercase tracking-[0.18em] text-emerald-200\">\n              Map quests\n              <span className=\"h-1 w-1 rounded-full bg-emerald-300\" />\n            </div>\n            <h1 className=\"mt-3 text-3xl font-bold bg-gradient-to-b from-emerald-100 via-white to-emerald-200 text-transparent bg-clip-text drop-shadow-[0_0_24px_rgba(16,185,129,0.8)]\">\n              Timișoara — Cleanup Quests Map\n            </h1>\n            <p className=\"text-sm text-emerald-100/80 mt-1 max-w-xl\">\n              Every time you open the app, a new random set of 10 sanitation and\n              eco-cleanup quests is loaded across the city. Accept a quest,\n              clean the area, upload proof and earn points.\n            </p>\n          </div>\n\n          <div className=\"flex items-center gap-4\">\n            {/* POINTS BADGE — like Weekly Quests page */}\n            <div className=\"px-4 py-2 rounded-xl bg-[#020617]/90 border border-[#1e293b] shadow-lg\">\n              <div className=\"text-[11px] uppercase tracking-[0.18em] text-gray-400\">\n                Your points\n              </div>\n              <div className=\"text-lg font-bold text-emerald-400\">\n                {userPoints}\n              </div>\n            </div>\n\n            <button\n              onClick={() =>\n                mapRef.current?.setView(MAP_CENTER, 13, { animate: true })\n              }\n              className=\"px-4 py-2 bg-emerald-600 rounded-lg shadow hover:bg-emerald-700 duration-200 transition text-sm font-semibold\"\n            >\n              Reset view\n            </button>\n          </div>\n        </div>\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n          {/* MAP */}\n          <div className=\"lg:col-span-2\">\n            <div className=\"rounded-2xl overflow-hidden border border-[#1d332e] shadow-[0_0_30px_rgba(15,23,42,0.9)] relative bg-slate-900/80 backdrop-blur-xl\">\n              {loadingMap && (\n                <div className=\"absolute inset-0 bg-[#020617]/80 flex flex-col items-center justify-center gap-2 animate-pulse z-10\">\n                  <div className=\"w-10 h-10 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin\" />\n                  <span className=\"text-sm text-gray-300\">Loading map...</span>\n                </div>\n              )}\n              <div\n                ref={mapContainerRef}\n                style={{ height: \"700px\", width: \"100%\" }}\n              />\n            </div>\n          </div>\n\n          {/* SIDEBAR */}\n          <aside className=\"bg-[#020617]/90 border border-[#1e293b] rounded-2xl p-4 shadow-xl backdrop-blur-xl\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <h2 className=\"text-lg font-semibold text-emerald-50\">\n                Quests ({filteredProblems.length})\n              </h2>\n              <span className=\"text-[11px] text-gray-400\">{totalText}</span>\n            </div>\n\n            {/* FILTERS */}\n            <div className=\"text-sm text-gray-300 mb-3\">\n              <label>Filter by type</label>\n              <select\n                value={filters.type}\n                onChange={(e) =>\n                  setFilters((f) => ({ ...f, type: e.target.value }))\n                }\n                className=\"w-full mt-1 px-2 py-1 bg-[#1e293b] text-gray-200 rounded outline-none focus:ring-2 focus:ring-emerald-500\"\n              >\n                <option value=\"toate\">All</option>\n                <option value=\"salubritate\">Cleaning / Sanitation</option>\n                <option value=\"ecologizare\">Eco-actions</option>\n                <option value=\"deseuri\">Waste dumping</option>\n              </select>\n\n              <label className=\"mt-3 block\">Filter by priority</label>\n              <select\n                value={filters.priority}\n                onChange={(e) =>\n                  setFilters((f) => ({ ...f, priority: e.target.value }))\n                }\n                className=\"w-full mt-1 px-2 py-1 bg-[#1e293b] text-gray-200 rounded outline-none focus:ring-2 focus:ring-emerald-500\"\n              >\n                <option value=\"toate\">All</option>\n                <option value=\"mare\">High</option>\n                <option value=\"medie\">Medium</option>\n                <option value=\"mică\">Low</option>\n              </select>\n            </div>\n\n            {/* MISSIONS LIST */}\n            <ul className=\"space-y-2 max-h-[500px] overflow-y-auto pr-1\">\n              {filteredProblems.map((p) => {\n                const status = p.status ?? \"pending\";\n                const isAccepted = status === \"accepted\";\n                const isFinished = status === \"finished\";\n                const timeLeft =\n                  isAccepted && p.acceptedAt\n                    ? THREE_HOURS_MS - (now - p.acceptedAt)\n                    : THREE_HOURS_MS;\n                const timeLabel = formatTimeLeft(timeLeft);\n\n                return (\n                  <li\n                    key={p.id}\n                    onClick={() => handleListClick(p)}\n                    className={`bg-[#1e293b] px-3 py-3 rounded-xl cursor-pointer hover:bg-[#243045] transition ${\n                      isFinished ? \"border border-emerald-500\" : \"\"\n                    }`}\n                  >\n                    <div className=\"flex gap-3\">\n                      {/* priority dot */}\n                      <div className=\"mt-1\">\n                        <div\n                          className=\"w-3 h-3 rounded-full\"\n                          style={{\n                            backgroundColor: getPriorityColor(p.priority),\n                          }}\n                        />\n                      </div>\n\n                      {/* content + actions */}\n                      <div className=\"flex-1 flex flex-col\">\n                        <div className=\"flex justify-between items-start\">\n                          <h3 className=\"text-white text-sm font-semibold\">\n                            {p.title}\n                          </h3>\n                          <span className=\"text-[10px] text-gray-400\">\n                            #{p.id}\n                          </span>\n                        </div>\n\n                        <p className=\"text-[12px] text-gray-300 mt-1\">\n                          {p.desc}\n                        </p>\n\n                        {/* difficulty + points (POINT SYSTEM) */}\n                        <div className=\"mt-2 flex items-center justify-between text-[11px] text-gray-400\">\n                          <span>\n                            Difficulty:{\" \"}\n                            {\"★\".repeat(p.difficulty).padEnd(3, \"☆\")}\n                          </span>\n                          <span className=\"text-emerald-400 font-semibold\">\n                            +{p.points} pts\n                          </span>\n                        </div>\n\n                        {/* actions / timer */}\n                        {status === \"pending\" && (\n                          <div className=\"mt-3 flex justify-end gap-2\">\n                            <button\n                              className=\"px-3 py-1 rounded-lg text-xs font-semibold bg-emerald-600 hover:bg-emerald-700 text-white\"\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                handleAccept(p.id);\n                              }}\n                            >\n                              Accept quest\n                            </button>\n                            <button\n                              className=\"px-3 py-1 rounded-lg text-xs font-semibold bg-[#111827] hover:bg-[#1f2937] text-gray-200\"\n                              onClick={(e) => {\n                                e.stopPropagation();\n                                handleReject(p.id);\n                              }}\n                            >\n                              Reject\n                            </button>\n                          </div>\n                        )}\n\n                        {status === \"accepted\" && (\n                          <div className=\"mt-3 flex flex-col gap-2 text-xs text-gray-300\">\n                            <div className=\"flex items-center justify-between\">\n                              <span>Time left: {timeLabel}</span>\n                            </div>\n\n                            <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between\">\n                              <label className=\"inline-flex items-center gap-2 cursor-pointer\">\n                                <span className=\"px-3 py-1 rounded-lg bg-[#111827] text-gray-200\">\n                                  Upload proof photo\n                                </span>\n                                <input\n                                  type=\"file\"\n                                  accept=\"image/*\"\n                                  className=\"hidden\"\n                                  onChange={(e) => {\n                                    e.stopPropagation();\n                                    if (e.target.files && e.target.files[0]) {\n                                      handleImageUploaded(p.id);\n                                    }\n                                  }}\n                                />\n                              </label>\n\n                              <button\n                                className={`px-3 py-1 rounded-lg text-xs font-semibold bg-emerald-600 text-white ${\n                                  !p.hasImage\n                                    ? \"opacity-50 cursor-not-allowed\"\n                                    : \"hover:bg-emerald-700\"\n                                }`}\n                                disabled={!p.hasImage}\n                                onClick={(e) => {\n                                  e.stopPropagation();\n                                  if (!p.hasImage) return;\n                                  handleFinish(p.id);\n                                }}\n                              >\n                                Finish quest\n                              </button>\n                            </div>\n                          </div>\n                        )}\n\n                        {isFinished && (\n                          <div className=\"mt-3 text-xs text-emerald-400 font-semibold\">\n                            Quest completed ✅ You earned {p.points} points!\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </li>\n                );\n              })}\n            </ul>\n          </aside>\n        </div>\n      </div>\n\n      {/* STATISTICS CARD */}\n      <div className=\"mt-30 w-full\">\n        <div className=\"bg-[#020617]/90 border border-[#1e293b] rounded-2xl p-6 shadow-xl max-w-7xl mx-auto backdrop-blur-xl\">\n          <h2 className=\"text-xl font-semibold text-emerald-50 mb-6\">\n            General statistics — Timișoara (current set of 10 quests)\n          </h2>\n\n          {/* MAIN GRID */}\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n            <div className=\"bg-[#1e293b] rounded-xl p-4 flex flex-col gap-1 shadow-md\">\n              <span className=\"text-gray-400 text-sm\">Total quests</span>\n              <span className=\"text-2xl font-bold text-white\">\n                {problems.length}\n              </span>\n            </div>\n\n            <div className=\"bg-[#1e293b] rounded-xl p-4 flex flex-col gap-1 shadow-md\">\n              <span className=\"text-gray-400 text-sm\">\n                High-priority quests\n              </span>\n              <span className=\"text-2xl font-bold text-red-400\">\n                {problems.filter((p) => p.priority === \"mare\").length}\n              </span>\n            </div>\n\n            <div className=\"bg-[#1e293b] rounded-xl p-4 flex flex-col gap-1 shadow-md\">\n              <span className=\"text-gray-400 text-sm\">\n                Average resolution time (estimate)\n              </span>\n              <span className=\"text-2xl font-bold text-yellow-400\">\n                ~ 3.4 days\n              </span>\n            </div>\n\n            <div className=\"bg-[#1e293b] rounded-xl p-4 flex flex-col gap-1 shadow-md\">\n              <span className=\"text-gray-400 text-sm\">\n                Most affected zones (current set)\n              </span>\n\n              {Object.entries(\n                problems.reduce((acc: Record<string, number>, p) => {\n                  const zone = `${p.pos.lat.toFixed(2)}, ${p.pos.lng.toFixed(\n                    2\n                  )}`;\n                  acc[zone] = (acc[zone] || 0) + 1;\n                  return acc;\n                }, {})\n              )\n                .sort((a, b) => b[1] - a[1])\n                .slice(0, 3)\n                .map(([zone, count]) => (\n                  <span key={zone} className=\"text-[13px] text-gray-300\">\n                    • Zone {zone} — {count} quests\n                  </span>\n                ))}\n            </div>\n          </div>\n\n          {/* DONUT + BAR */}\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-10 mt-10\">\n            <div className=\"flex flex-col items-center\">\n              <span className=\"text-gray-300 mb-3 font-medium\">\n                Overall distribution\n              </span>\n\n              <div className=\"relative w-40 h-40\">\n                <div className=\"absolute inset-0 rounded-full border-[12px] border-green-400/40\" />\n                <div className=\"absolute inset-0 rounded-full border-[12px] border-yellow-400/40 rotate-45\" />\n                <div className=\"absolute inset-0 rounded-full border-[12px] border-red-400/40 rotate-90\" />\n\n                <div className=\"absolute inset-0 flex items-center justify-center\">\n                  <span className=\"text-white text-xl font-bold\">\n                    {problems.length}\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            <div>\n              <span className=\"text-gray-300 mb-3 font-medium block\">\n                Quest priority split\n              </span>\n\n              <div className=\"mb-4\">\n                <p className=\"text-sm text-red-400\">High</p>\n                <div className=\"h-3 bg-red-400/20 rounded\">\n                  <div\n                    className=\"h-3 bg-red-400 rounded\"\n                    style={{\n                      width: `${\n                        problems.length\n                          ? (problems.filter((p) => p.priority === \"mare\")\n                              .length /\n                              problems.length) *\n                            100\n                          : 0\n                      }%`,\n                    }}\n                  />\n                </div>\n              </div>\n\n              <div className=\"mb-4\">\n                <p className=\"text-sm text-yellow-400\">Medium</p>\n                <div className=\"h-3 bg-yellow-400/20 rounded\">\n                  <div\n                    className=\"h-3 bg-yellow-400 rounded\"\n                    style={{\n                      width: `${\n                        problems.length\n                          ? (problems.filter((p) => p.priority === \"medie\")\n                              .length /\n                              problems.length) *\n                            100\n                          : 0\n                      }%`,\n                    }}\n                  />\n                </div>\n              </div>\n\n              <div className=\"mb-4\">\n                <p className=\"text-sm text-green-400\">Low</p>\n                <div className=\"h-3 bg-green-400/20 rounded\">\n                  <div\n                    className=\"h-3 bg-green-400 rounded\"\n                    style={{\n                      width: `${\n                        problems.length\n                          ? (problems.filter((p) => p.priority === \"mică\")\n                              .length /\n                              problems.length) *\n                            100\n                          : 0\n                      }%`,\n                    }}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* HEATMAP CARD — uses the same 10 quests */}\n      <HeatmapCard problems={problems} />\n\n      {/* MARKER ANIMATIONS + POPUP CSS */}\n      <style>{`\n        .marker-wrapper {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .marker-pulse {\n          width: 14px;\n          height: 14px;\n          border-radius: 50%;\n          animation: pulse 1.5s infinite;\n        }\n\n        @keyframes pulse {\n          0% { box-shadow: 0 0 0 0 rgba(74, 222, 128, .5); }\n          70% { box-shadow: 0 0 0 10px rgba(74, 222, 128, 0); }\n          100% { box-shadow: 0 0 0 0 rgba(74, 222, 128, 0); }\n        }\n\n        .popup-card {\n          background: #0f172a;\n          padding: 10px;\n          border-radius: 10px;\n          color: #e2f0e8;\n        }\n        .popup-title {\n          font-weight: bold;\n          font-size: 13px;\n        }\n        .popup-desc {\n          font-size: 12px;\n          margin-top: 4px;\n        }\n        .popup-meta {\n          margin-top: 6px;\n          display: flex;\n          gap: 6px;\n          font-size: 10px;\n        }\n        .popup-pill {\n          background: #1e293b;\n          padding: 3px 6px;\n          border-radius: 999px;\n        }\n        .popup-id {\n          margin-left: auto;\n          color: #4ade80;\n        }\n\n        .leaflet-popup-content-wrapper {\n          background: #0f172a !important;\n          color: #e2f0e8 !important;\n          border-radius: 14px !important;\n          border: 1px solid #1e293b !important;\n          box-shadow: 0 6px 20px rgba(0,0,0,0.45) !important;\n        }\n        .leaflet-popup-tip {\n          background: #0f172a !important;\n          border: 1px solid #1e293b !important;\n        }\n        .leaflet-popup-content {\n          margin: 0 !important;\n          padding: 0 !important;\n        }\n\n        .marker-cluster,\n        .marker-cluster div,\n        .marker-cluster span {\n          background-image: none !important;\n          box-shadow: none !important;\n        }\n\n        .marker-cluster {\n          background: none !important;\n          border: none !important;\n        }\n\n        .marker-cluster div {\n          width: 40px !important;\n          height: 40px !important;\n          background: rgba(0, 153, 102, 0.35) !important;\n          border-radius: 50% !important;\n          border: 3px solid rgba(42, 117, 92, 0.45) !important;\n          display: flex !important;\n          justify-content: center !important;\n          align-items: center !important;\n          color: white !important;\n          font-size: 16px !important;\n          font-weight: 600 !important;\n        }\n\n        .marker-cluster span {\n          line-height: 40px !important;\n          font-size: 16px !important;\n          color: white !important;\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":["L","useEffect","useMemo","useRef","useState","useCallback","FALLBACK_PROBLEMS","id","title","desc","pos","lat","lng","type","priority","MAP_CENTER","TILE_DARK","THREE_HOURS_MS","BaseProblem","ProblemWithState","status","acceptedAt","hasImage","difficulty","basePoints","points","getPriorityColor","getPriorityLabel","escapeText","text","String","replace","prepareProblems","source","count","withState","map","p","copy","i","length","j","Math","floor","random","sliceIndex","min","initial","slice","rest","formatTimeLeft","ms","clamped","max","totalSeconds","h","m","s","pad","n","toString","padStart","HeatmapCard","problems","mapRef","Map","heatLayerRef","heatEnabled","setHeatEnabled","leaflet","setLeaflet","MAP_CENTER_LOCAL","TILE_DARK_LOCAL","leafletModule","LInstance","default","current","center","zoom","zoomControl","attributionControl","dragging","scrollWheelZoom","doubleClickZoom","boxZoom","keyboard","tileLayer","maxZoom","addTo","heatData","heatLayer","radius","blur","gradient","setLatLngs","removeLayer","v","TimisoaraProblemsMap","mapContainerRef","HTMLDivElement","clusterRef","markersRef","marker","Marker","poolRef","setProblems","loadingMap","setLoadingMap","loadingData","setLoadingData","selectedProblem","setSelectedProblem","filters","setFilters","now","setNow","Date","userPoints","setUserPoints","interval","setInterval","clearInterval","fetch","then","res","json","data","user","catch","err","console","error","fetchProblems","ok","Error","Array","isArray","clusterGroup","markerClusterGroup","showCoverageOnHover","maxClusterRadius","filteredProblems","filter","okType","okPr","clearLayers","forEach","markerIcon","divIcon","className","iconSize","iconAnchor","html","icon","popupHtml","bindPopup","on","addLayer","push","bounds","latLngBounds","fitBounds","padding","handleListClick","problem","found","find","setView","getLatLng","animate","openPopup","handleAccept","prev","handleReject","remaining","next","handleImageUploaded","handleFinish","method","headers","body","JSON","stringify","totalText","height","width","e","f","target","value","isAccepted","isFinished","timeLeft","timeLabel","backgroundColor","repeat","padEnd","stopPropagation","files","Object","entries","reduce","acc","Record","zone","toFixed","sort","a","b"],"mappings":";;;;;AAEA,OAAOA,CAAC,MAAM,SAAS;AACvB,8EAAA;AACA,yEAAA;AACA,6DAAA;AACA,aAAA;AACA,OAAO,uBAAuB;AAW9B,SAASC,SAAS,EAAEC,OAAO,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;;;AAlBzE,YAAY;;;;;;;AAoBZ;;8CAEA,GAEA,MAAMC,iBAAiB,GAAG;IACxB;QACEC,EAAE,EAAE,CAAC;QACLC,KAAK,EAAE,gCAAgC;QACvCC,IAAI,EAAE,iFAAiF;QACvFC,GAAG,EAAE;YAAEC,GAAG,EAAE,OAAO;YAAEC,GAAG,EAAE;QAAO,CAAC;QAClCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,CAAC;QACLC,KAAK,EAAE,wBAAwB;QAC/BC,IAAI,EAAE,2EAA2E;QACjFC,GAAG,EAAE;YAAEC,GAAG,EAAE,OAAO;YAAEC,GAAG,EAAE;QAAO,CAAC;QAClCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,CAAC;QACLC,KAAK,EAAE,mCAAmC;QAC1CC,IAAI,EAAE,sGAAsG;QAC5GC,GAAG,EAAE;YAAEC,GAAG,EAAE,OAAO;YAAEC,GAAG,EAAE;QAAQ,CAAC;QACnCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,CAAC;QACLC,KAAK,EAAE,oBAAoB;QAC3BC,IAAI,EAAE,yEAAyE;QAC/EC,GAAG,EAAE;YAAEC,GAAG,EAAE,OAAO;YAAEC,GAAG,EAAE;QAAQ,CAAC;QACnCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,CAAC;QACLC,KAAK,EAAE,2BAA2B;QAClCC,IAAI,EAAE,uFAAuF;QAC7FC,GAAG,EAAE;YAAEC,GAAG,EAAE,OAAO;YAAEC,GAAG,EAAE;QAAQ,CAAC;QACnCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,CAAC;QACLC,KAAK,EAAE,2BAA2B;QAClCC,IAAI,EAAE,iFAAiF;QACvFC,GAAG,EAAE;YAAEC,GAAG,EAAE,KAAK;YAAEC,GAAG,EAAE;QAAK,CAAC;QAC9BC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,CAAC;QACLC,KAAK,EAAE,6BAA6B;QACpCC,IAAI,EAAE,kEAAkE;QACxEC,GAAG,EAAE;YAAEC,GAAG,EAAE,KAAK;YAAEC,GAAG,EAAE;QAAM,CAAC;QAC/BC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,CAAC;QACLC,KAAK,EAAE,6BAA6B;QACpCC,IAAI,EAAE,yDAAyD;QAC/DC,GAAG,EAAE;YAAEC,GAAG,EAAE,OAAO;YAAEC,GAAG,EAAE;QAAM,CAAC;QACjCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,CAAC;QACLC,KAAK,EAAE,6BAA6B;QACpCC,IAAI,EAAE,iFAAiF;QACvFC,GAAG,EAAE;YAAEC,GAAG,EAAE,MAAM;YAAEC,GAAG,EAAE;QAAM,CAAC;QAChCC,IAAI,EAAE,SAAS;QACfC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,mBAAmB;QAC1BC,IAAI,EAAE,yEAAyE;QAC/EC,GAAG,EAAE;YAAEC,GAAG,EAAE,KAAK;YAAEC,GAAG,EAAE;QAAM,CAAC;QAC/BC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,6CAA6C;QACpDC,IAAI,EAAE,kEAAkE;QACxEC,GAAG,EAAE;YAAEC,GAAG,EAAE,OAAO;YAAEC,GAAG,EAAE;QAAM,CAAC;QACjCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,wBAAwB;QAC/BC,IAAI,EAAE,mEAAmE;QACzEC,GAAG,EAAE;YAAEC,GAAG,EAAE,OAAO;YAAEC,GAAG,EAAE;QAAO,CAAC;QAClCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,iCAAiC;QACxCC,IAAI,EAAE,qEAAqE;QAC3EC,GAAG,EAAE;YAAEC,GAAG,EAAE,OAAO;YAAEC,GAAG,EAAE;QAAO,CAAC;QAClCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,8BAA8B;QACrCC,IAAI,EAAE,sDAAsD;QAC5DC,GAAG,EAAE;YAAEC,GAAG,EAAE,OAAO;YAAEC,GAAG,EAAE;QAAO,CAAC;QAClCC,IAAI,EAAE,SAAS;QACfC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,8BAA8B;QACrCC,IAAI,EAAE,gEAAgE;QACtEC,GAAG,EAAE;YAAEC,GAAG,EAAE,OAAO;YAAEC,GAAG,EAAE;QAAO,CAAC;QAClCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,6BAA6B;QACpCC,IAAI,EAAE,4DAA4D;QAClEC,GAAG,EAAE;YAAEC,GAAG,EAAE,OAAO;YAAEC,GAAG,EAAE;QAAO,CAAC;QAClCC,IAAI,EAAE,SAAS;QACfC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,wBAAwB;QAC/BC,IAAI,EAAE,sEAAsE;QAC5EC,GAAG,EAAE;YAAEC,GAAG,EAAE,OAAO;YAAEC,GAAG,EAAE;QAAO,CAAC;QAClCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,+BAA+B;QACtCC,IAAI,EAAE,yEAAyE;QAC/EC,GAAG,EAAE;YAAEC,GAAG,EAAE,MAAM;YAAEC,GAAG,EAAE;QAAO,CAAC;QACjCC,IAAI,EAAE,SAAS;QACfC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,4BAA4B;QACnCC,IAAI,EAAE,qDAAqD;QAC3DC,GAAG,EAAE;YAAEC,GAAG,EAAE,OAAO;YAAEC,GAAG,EAAE;QAAQ,CAAC;QACnCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,4BAA4B;QACnCC,IAAI,EAAE,kEAAkE;QACxEC,GAAG,EAAE;YAAEC,GAAG,EAAE,OAAO;YAAEC,GAAG,EAAE;QAAO,CAAC;QAClCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,6BAA6B;QACpCC,IAAI,EAAE,oEAAoE;QAC1EC,GAAG,EAAE;YAAEC,GAAG,EAAE,MAAM;YAAEC,GAAG,EAAE;QAAO,CAAC;QACjCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,+BAA+B;QACtCC,IAAI,EAAE,gEAAgE;QACtEC,GAAG,EAAE;YAAEC,GAAG,EAAE,MAAM;YAAEC,GAAG,EAAE;QAAO,CAAC;QACjCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,qCAAqC;QAC5CC,IAAI,EAAE,2DAA2D;QACjEC,GAAG,EAAE;YAAEC,GAAG,EAAE,MAAM;YAAEC,GAAG,EAAE;QAAO,CAAC;QACjCC,IAAI,EAAE,SAAS;QACfC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,2CAA2C;QAClDC,IAAI,EAAE,+DAA+D;QACrEC,GAAG,EAAE;YAAEC,GAAG,EAAE,MAAM;YAAEC,GAAG,EAAE;QAAM,CAAC;QAChCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,uCAAuC;QAC9CC,IAAI,EAAE,4DAA4D;QAClEC,GAAG,EAAE;YAAEC,GAAG,EAAE,MAAM;YAAEC,GAAG,EAAE;QAAO,CAAC;QACjCC,IAAI,EAAE,SAAS;QACfC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,6BAA6B;QACpCC,IAAI,EAAE,8DAA8D;QACpEC,GAAG,EAAE;YAAEC,GAAG,EAAE,MAAM;YAAEC,GAAG,EAAE;QAAO,CAAC;QACjCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,0BAA0B;QACjCC,IAAI,EAAE,uEAAuE;QAC7EC,GAAG,EAAE;YAAEC,GAAG,EAAE,MAAM;YAAEC,GAAG,EAAE;QAAO,CAAC;QACjCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,+BAA+B;QACtCC,IAAI,EAAE,0DAA0D;QAChEC,GAAG,EAAE;YAAEC,GAAG,EAAE,MAAM;YAAEC,GAAG,EAAE;QAAO,CAAC;QACjCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,oCAAoC;QAC3CC,IAAI,EAAE,8DAA8D;QACpEC,GAAG,EAAE;YAAEC,GAAG,EAAE,MAAM;YAAEC,GAAG,EAAE;QAAO,CAAC;QACjCC,IAAI,EAAE,SAAS;QACfC,QAAQ,EAAE;IACZ,CAAC;IACD;QACEP,EAAE,EAAE,EAAE;QACNC,KAAK,EAAE,iCAAiC;QACxCC,IAAI,EAAE,4EAA4E;QAClFC,GAAG,EAAE;YAAEC,GAAG,EAAE,MAAM;YAAEC,GAAG,EAAE;QAAO,CAAC;QACjCC,IAAI,EAAE,aAAa;QACnBC,QAAQ,EAAE;IACZ,CAAC;CACF;AAED,MAAMC,UAAU,EAAE,CAAmB,AAAlB,MAAM,EAAE,MAAM,CAAC;IAAI,OAAO;IAAE,OAAO;CAAC;AACvD,MAAMC,SAAS,GACb,+DAA+D;AAEjE,MAAMC,cAAc,GAAG,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI;AAazC;;8CAEA,GAEA,SAASS,gBAAgBA,CAACZ,QAAQ,AAAQ,CAAC,CAAP,CAAS,MAAM,CAAC;IAClD,IAAIA,QAAQ,KAAK,MAAM,EAAE,OAAO,SAAS,CAAC,CAAC,OAAA;IAC3C,IAAIA,QAAQ,KAAK,OAAO,EAAE,OAAO,SAAS,CAAC,CAAC,SAAA;IAC5C,IAAIA,QAAQ,KAAK,MAAM,EAAE,OAAO,SAAS,CAAC,CAAC,MAAA;IAC3C,OAAO,SAAS;AAClB;AAEA,SAASa,gBAAgBA,CAACb,QAAQ,AAAQ,CAAC,CAAP,CAAS,MAAM,CAAC;IAClD,IAAIA,QAAQ,KAAK,MAAM,EAAE,OAAO,MAAM;IACtC,IAAIA,QAAQ,KAAK,OAAO,EAAE,OAAO,QAAQ;IACzC,IAAIA,QAAQ,KAAK,MAAM,EAAE,OAAO,KAAK;IACrC,OAAOA,QAAQ;AACjB;AAEA,SAASc,UAAUA,CAACC,IAAI,AAAQ,EAAN,AAAQ;IAChC,OAAOC,MAAM,CAACD,IAAI,CAAC,CAChBE,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,CACtBA,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CACrBA,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC;AAC1B;AAEA,wEAAA;AACA,SAASC,eAAeA,CAACC,MAAM,AAAe,EAAEC,AAAfhB,KAAoB,AAAQ,EAAN,AAAQ,IAAnB;IAC1C,MAAMiB,SAAS,EAAEhB,CAAqBc,MAAM,CAACG,GAAG,EAAEC,CAAC,EAAlB,EAAuB,AAArB;QACjC,MAAMd,UAAU,GACdc,CAAC,CAACvB,QAAQ,KAAK,MAAM,GAAG,CAAC,GAAGuB,CAAC,CAACvB,QAAQ,KAAK,OAAO,GAAG,CAAC,GAAG,CAAC;QAC5D,MAAMU,UAAU,GAAG,EAAE;QACrB,MAAMC,MAAM,GAAGD,UAAU,GAAGD,UAAU;QAEtC,OAAO;YACL,GAAGc,CAAC;YACJjB,MAAM,EAAE,SAAS;YACjBE,QAAQ,EAAE,KAAK;YACfC,UAAU;YACVC,UAAU;YACVC;QACF,CAAC;IACH,CAAC,CAAC;IAEF,MAAMa,IAAI,GAAG,CAAC;WAAGH,SAAS;KAAC;IAC3B,IAAK,IAAII,CAAC,GAAGD,IAAI,CAACE,MAAM,GAAG,CAAC,EAAED,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,CAAE;QACxC,MAAME,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAA,CAAIL,CAAC,GAAG,CAAC,CAAC,CAAC;QAC7C,CAACD,IAAI,CAACC,CAAC,CAAC,EAAED,IAAI,CAACG,CAAC,CAAC,CAAC,GAAG;YAACH,IAAI,CAACG,CAAC,CAAC;YAAEH,IAAI,CAACC,CAAC,CAAC;SAAC;IACzC;IAEA,MAAMM,UAAU,GAAGH,IAAI,CAACI,GAAG,CAACZ,KAAK,EAAEI,IAAI,CAACE,MAAM,CAAC;IAC/C,OAAO;QACLO,OAAO,EAAET,IAAI,CAACU,KAAK,CAAC,CAAC,EAAEH,UAAU,CAAC;QAClCI,IAAI,EAAEX,IAAI,CAACU,KAAK,CAACH,UAAU;IAC7B,CAAC;AACH;AAEA,SAASK,cAAcA,CAACC,EAAE,AAAQ,CAAC,CAAP,CAAS,MAAM,CAAC;IAC1C,MAAMC,OAAO,GAAGV,IAAI,CAACW,GAAG,CAAC,CAAC,EAAEF,EAAE,CAAC;IAC/B,MAAMG,YAAY,GAAGZ,IAAI,CAACC,KAAK,CAACS,OAAO,GAAG,IAAI,CAAC;IAC/C,MAAMG,CAAC,GAAGb,IAAI,CAACC,KAAK,CAACW,YAAY,GAAG,IAAI,CAAC;IACzC,MAAME,CAAC,GAAGd,IAAI,CAACC,KAAK,CAAEW,YAAY,GAAG,IAAI,GAAI,EAAE,CAAC;IAChD,MAAMG,CAAC,GAAGH,YAAY,GAAG,EAAE;IAC3B,MAAMI,GAAG,GAAGA,CAACC,CAAC,EAAE,CAAWA,CAAC,CAACC,GAAP,KAAe,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;IACxD,OAAO,GAAGH,GAAG,CAACH,CAAC,CAAC,CAAA,CAAA,EAAIG,GAAG,CAACF,CAAC,CAAC,CAAA,CAAA,EAAIE,GAAG,CAACD,CAAC,CAAC,EAAE;AACxC;AAEA;;8CAEA,GAEA,SAASK,WAAWA,CAAC,EAAEC,QAAAA,EAA4C,EAAE;;IACnE,MAAMC,MAAM,OAAG7D,uKAAM,CAACH,CAAc,AAAb,CAACiE,GAAG,AAAa,CAAC,EAAX,IAAI,CAAC;IACnC,MAAMC,YAAY,OAAG/D,uKAAM,CAAC,CAAK,EAAF,CAAC,CAAK,CAAC;IACtC,MAAM,CAACgE,WAAW,EAAEC,cAAc,CAAC,OAAGhE,yKAAQ,EAAC,KAAK,CAAC;IACrD,MAAM,CAACiE,OAAO,EAAEC,UAAU,CAAC,OAAGlE,yKAAQ,CAAC,CAAK,EAAF,CAAC,CAAK,CAAC;IAEjD,MAAMmE,gBAAgB,GAAG;QAAC,OAAO;QAAE,OAAO;KAAC;IAC3C,MAAMC,eAAe,GACnB,+DAA+D;IAEjEvE,8KAAS;iCAAC,MAAM;YACd;yCAAC,YAAY;oBACX,MAAMwE,aAAa,GAAG,MAAM,MAAM,CAAC,SAAS,CAAC;oBAC7C,6DAAA;oBACA,sDAAA;oBACA,MAAM,MAAM,CAAC,cAAc,CAAC;oBAC5B,MAAMC,SAAS,GAAGD,aAAa,CAACE,OAAO,IAAIF,aAAa;oBACxDH,UAAU,CAACI,SAAS,CAAC;gBACvB;aAAC,EAAE,CAAC;QACN,CAAC;gCAAE,EAAE,CAAC;QAENzE,0KAAS;iCAAC,MAAM;YACd,IAAI,CAACoE,OAAO,IAAIL,MAAM,CAACY,OAAO,EAAE;YAChC,MAAMF,WAAS,GAAGL,OAAO,IAAI,OAAOrE,CAAC;YAErC,MAAMoC,GAAG,GAAGsC,WAAS,CAACtC,GAAG,CAAC,mBAAmB,EAAE;gBAC7CyC,MAAM,EAAEN,gBAAgB,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC;gBAC5CO,IAAI,EAAE,EAAE;gBACRC,WAAW,EAAE,IAAI;gBACjBC,kBAAkB,EAAE,KAAK;gBACzBC,QAAQ,EAAE,IAAI;gBACdC,eAAe,EAAE,KAAK;gBACtBC,eAAe,EAAE,KAAK;gBACtBC,OAAO,EAAE,KAAK;gBACdC,QAAQ,EAAE;YACZ,CAAC,CAAC;YAEFX,WAAS,CAACY,SAAS,CAACd,eAAe,EAAE;gBAAEe,OAAO,EAAE;YAAG,CAAC,CAAC,CAACC,KAAK,CAACpD,GAAG,CAAC;YAChE4B,MAAM,CAACY,OAAO,GAAGxC,GAAG;QACtB,CAAC;gCAAE;QAACiC,OAAO;KAAC,CAAC;QAEbpE,0KAAS;iCAAC,MAAM;YACd,IAAI,CAACoE,OAAO,IAAI,CAACL,MAAM,CAACY,OAAO,EAAE;YACjC,MAAMF,WAAS,EAAE,CAAML,EAAH,KAAU;YAE9B,IAAIF,WAAW,EAAE;gBACf,MAAMsB,QAAQ,GAAG1B,QAAQ,CAAC3B,GAAG;uDAAEC,CAAC,GAAK;4BACnCA,CAAC,CAAC3B,GAAG,CAACC,GAAG;4BACT0B,CAAC,CAAC3B,GAAG,CAACE,GAAG;4BACTyB,CAAC,CAACvB,QAAQ,KAAK,MAAM,GAAG,GAAG,GAAGuB,CAAC,CAACvB,QAAQ,KAAK,OAAO,GAAG,GAAG,GAAG,GAAG;yBACjE,CAAC;;gBAEF,IAAI,CAACoD,YAAY,CAACU,OAAO,EAAE;oBACzBV,YAAY,CAACU,OAAO,GAAGF,WAAS,CAACgB,SAAS,CAACD,QAAQ,EAAE;wBACnDE,MAAM,EAAE,EAAE;wBACVC,IAAI,EAAE,EAAE;wBACRL,OAAO,EAAE,EAAE;wBACXM,QAAQ,EAAE;4BACR,GAAG,EAAE,SAAS;4BACd,GAAG,EAAE,SAAS;4BACd,GAAG,EAAE,SAAS;4BACd,GAAG,EAAE,SAAS;4BACd,GAAG,EAAE;wBACP;oBACF,CAAC,CAAC;gBACJ,CAAC,MAAM;oBACL3B,YAAY,CAACU,OAAO,CAACkB,UAAU,CAACL,QAAQ,CAAC;gBAC3C;gBAEAvB,YAAY,CAACU,OAAO,CAACY,KAAK,CAACxB,MAAM,CAACY,OAAO,CAAC;YAC5C,CAAC,MAAM,IAAIV,YAAY,CAACU,OAAO,EAAE;gBAC/BZ,MAAM,CAACY,OAAO,CAAC,AAACmB,WAAW,CAAC7B,YAAY,CAACU,OAAO,CAAC;YACnD;QACF,CAAC;gCAAE;QAACT,WAAW;QAAEE,OAAO;QAAEN,QAAQ;KAAC,CAAC;IAEpC,qBACE,6LAAC,GAAG;QAAC,SAAS,EAAC,cAAc;gCAC3B,6LAAC,GAAG;YAAC,SAAS,EAAC,sGAAsG;;8BACnH,6LAAC,GAAG;oBAAC,SAAS,EAAC,wCAAwC;;sCACrD,6LAAC,EAAE;4BAAC,SAAS,EAAC,uCAAuC;sCAAA;;;;;;sCAIrD,6LAAC,MAAM;4BACL,OAAO,CAAC,CAAC,IAAMK,cAAc,EAAE4B,CAAC,GAAK,CAACA,CAAC,CAAC,CAAC;4BACzC,SAAS,CAAC,CAAC,CAAA,sDAAA,EACT7B,WAAW,GACP,qCAAqC,GACrC,iCAAiC,EACrC,CAAC;sCAEFA,WAAW,GAAG,iBAAiB,GAAG,gBAAgB;;;;;;;;;;;;8BAIvD,6LAAC,GAAG;oBACF,EAAE,EAAC,mBAAmB;oBACtB,SAAS,EAAC,qEAAqE;;;;;;;;;;;;;;;;;AAKzF;;;AAMe;;IACb,MAAM+B,eAAe,OAAG/F,uKAAM,CAACgG,CAAuB,IAAI,CAAC,QAAd,GAAG,IAAI,CAAC;IACrD,MAAMnC,MAAM,OAAG7D,uKAAM,CAACH,CAAC,AAAa,CAAZiE,GAAG,AAAa,CAAC,EAAX,IAAI,CAAC;IAEnC,0EAAA;IACA,MAAMmC,UAAU,OAAGjG,uKAAM,CAAC,CAAK,EAAF,CAAC,CAAK,CAAC;IAEpC,MAAMkG,UAAU,OAAGlG,uKAAM,CAAC,CAAoC,EAAE,CAAC;IACjE,MAAMqG,OAAO,OAAGrG,uKAAM,CAACgB,CAAoB,EAAE,CAAC,CAAC,CAAC,UAAT,EAAE,CAAC,kBAAM;IAEhD,MAAM,CAAC4C,QAAQ,EAAE0C,WAAW,CAAC,OAAGrG,yKAAQ,CAACe,CAAoB,EAAE,CAAC,YAAP,EAAE,CAAC;IAC5D,MAAM,CAACuF,UAAU,EAAEC,aAAa,CAAC,OAAGvG,yKAAQ,EAAC,IAAI,CAAC;IAClD,MAAM,CAACwG,WAAW,EAAEC,cAAc,CAAC,OAAGzG,yKAAQ,EAAC,IAAI,CAAC;IACpD,MAAM,CAAC0G,eAAe,EAAEC,kBAAkB,CAAC,OACzC3G,yKAAQ,CAACe,CAAyB,IAAI,CAAC,UAAd,GAAG,IAAI,CAAC;IACnC,MAAM,CAAC6F,OAAO,EAAEC,UAAU,CAAC,OAAG7G,yKAAQ,EAAC;QAAES,IAAI,EAAE,OAAO;QAAEC,QAAQ,EAAE;IAAQ,CAAC,CAAC;IAE5E,8BAAA;IACA,MAAM,CAACoG,GAAG,EAAEC,MAAM,CAAC,OAAG/G,yKAAQ,CAAC,CAAQgH,IAAI,CAAN,AAAOF,CAAN,EAAS,CAAC,CAAC,CAAC;IAElD,8CAAA;IACA,MAAM,CAACG,UAAU,EAAEC,aAAa,CAAC,OAAGlH,yKAAQ,CAAC,CAAQ,CAAC,CAAC,GAAJ,CAAC;QAEpDH,0KAAS;0CAAC,MAAM;YACd,MAAMsH,QAAQ,GAAGC,WAAW;2DAAC,IAAML,MAAM,CAACC,IAAI,CAACF,GAAG,CAAC,CAAC,CAAC;0DAAE,IAAI,CAAC;YAC5D;kDAAO,IAAMO,aAAa,CAACF,QAAQ,CAAC;;QACtC,CAAC;yCAAE,EAAE,CAAC;IAEN,iDAAA;QACAtH,0KAAS;0CAAC,MAAM;YACdyH,KAAK,CAAC,cAAc,CAAC,CAClBC,IAAI;mDAAEC,GAAG,GAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC;iDACzBF,IAAI;mDAAEG,IAAI,IAAK;oBACd,IAAIA,IAAI,CAACC,IAAI,IAAI,OAAOD,IAAI,CAACC,IAAI,CAACtG,MAAM,KAAK,QAAQ,EAAE;wBACrD6F,aAAa,CAACQ,IAAI,CAACC,IAAI,CAACtG,MAAM,CAAC;oBACjC;gBACF,CAAC,CAAC;iDACDuG,KAAK;mDAAEC,GAAG,GAAKC,OAAO,CAACC,KAAK,CAAC,6BAA6B,EAAEF,GAAG,CAAC,CAAC;;QACtE,CAAC;yCAAE,EAAE,CAAC;IAEN,sFAAA;IACA,MAAMG,aAAa,GAAG/H,gLAAW;2DAAC,YAAY;YAC5C,IAAI;gBACF,MAAMuH,KAAG,GAAG,MAAMF,KAAK,CAAC,eAAe,CAAC;gBACxC,IAAI,CAACE,KAAG,CAACS,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,QAAQ,CAAC;gBACtC,MAAMT,IAAI,GAAG,MAAMD,KAAG,CAACC,IAAI,CAAC,CAAC;gBAE7B,MAAM5F,MAAM,EAAEf,CACZqH,KAAK,CAACC,IADiB,EAAE,CACZ,CAACX,IAAI,CAAC9D,QAAQ,CAAC,IAAI8D,IAAI,CAAC9D,QAAQ,CAACvB,MAAM,GAAG,CAAC,GACpDqF,IAAI,CAAC9D,QAAQ,GACbzD,iBAAiB;gBAEvB,MAAM,EAAEyC,OAAO,EAAPA,SAAO,EAAEE,IAAI,EAAJA,MAAAA,EAAM,GAAGjB,eAAe,CAACC,MAAM,EAAE,EAAE,CAAC;gBACrDwE,WAAW,CAAC1D,SAAO,CAAC;gBACpByD,OAAO,CAAC5B,OAAO,GAAG3B,MAAI;YACxB,CAAC,CAAC,OAAM;gBACN,MAAM,EAAEF,OAAO,EAAEE,IAAAA,EAAM,GAAGjB,eAAe,CAAC1B,iBAAiB,EAAE,EAAE,CAAC;gBAChEmG,WAAW,CAAC1D,OAAO,CAAC;gBACpByD,OAAO,CAAC5B,OAAO,GAAG3B,IAAI;YACxB,CAAC,QAAS;gBACR4D,cAAc,CAAC,KAAK,CAAC;YACvB;QACF,CAAC;0DAAE,EAAE,CAAC;QAEN5G,0KAAS;0CAAC,MAAM;YACdmI,aAAa,CAAC,CAAC;QACjB,CAAC;yCAAE;QAACA,aAAa;KAAC,CAAC;QAEnBnI,0KAAS;0CAAC,MAAM;YACd,IAAI,CAACiG,eAAe,CAACtB,OAAO,IAAIZ,MAAM,CAACY,OAAO,EAAE;YAEhD,MAAMxC,GAAG,GAAGpC,+JAAC,CAACoC,GAAG,CAAC8D,eAAe,CAACtB,OAAO,EAAE;gBACzCC,MAAM,EAAE9D,UAAU;gBAClB+D,IAAI,EAAE,EAAE;gBACRC,WAAW,EAAE,IAAI;gBACjBC,kBAAkB,EAAE;YACtB,CAAC,CAAC;YAEFhF,+JAAC,CAACsF,SAAS,CAACtE,SAAS,EAAE;gBAAEuE,OAAO,EAAE;YAAG,CAAC,CAAC,CAACC,KAAK,CAACpD,GAAG,CAAC;YAElD,uEAAA;YACA,MAAMqG,YAAY,GAAG,AAACzI,+JAAC,CAAS0I,GAAL,GAAG,YAAoB,CAAC;gBACjDC,mBAAmB,EAAE,KAAK;gBAC1BC,gBAAgB,EAAE;YACpB,CAAC,CAAC;YAEFH,YAAY,CAACjD,KAAK,CAACpD,GAAG,CAAC;YACvBgE,UAAU,CAACxB,OAAO,GAAG6D,YAAY;YACjCzE,MAAM,CAACY,OAAO,GAAGxC,GAAG;YACpBuE,aAAa,CAAC,KAAK,CAAC;QACtB,CAAC;yCAAE,EAAE,CAAC;IAEN,MAAMkC,gBAAgB,GAAG3I,4KAAO;0DAAC,MAAM;YACrC,OAAO6D,QAAQ,CAAC+E,MAAM;mEAAEzG,CAAC,IAAK;oBAC5B,MAAM0G,MAAM,GAAG/B,OAAO,CAACnG,IAAI,KAAK,OAAO,IAAImG,OAAO,CAACnG,IAAI,KAAKwB,CAAC,CAACxB,IAAI;oBAClE,MAAMmI,IAAI,GACRhC,OAAO,CAAClG,QAAQ,KAAK,OAAO,IAAIkG,OAAO,CAAClG,QAAQ,KAAKuB,CAAC,CAACvB,QAAQ;oBACjE,OAAOiI,MAAM,IAAIC,IAAI;gBACvB,CAAC,CAAC;;QACJ,CAAC;yDAAE;QAACjF,QAAQ;QAAEiD,OAAO;KAAC,CAAC;IAEvB,mBAAA;IACA/G,8KAAS;0CAAC,MAAM;YACd,IAAI,CAACmG,UAAU,CAACxB,OAAO,IAAI,CAACZ,MAAM,CAACY,OAAO,EAAE;YAE5CwB,UAAU,CAACxB,OAAO,CAACqE,WAAW,CAAC,CAAC;YAChC5C,UAAU,CAACzB,OAAO,GAAG,EAAE;YAEvBiE,gBAAgB,CAACK,OAAO;mDAAE7G,GAAC,IAAK;oBAC9B,MAAM8G,UAAU,GAAGnJ,+JAAC,CAACoJ,OAAO,CAAC;wBAC3BC,SAAS,EAAE,gBAAgB;wBAC3BC,QAAQ,EAAE;4BAAC,EAAE;4BAAE,EAAE;yBAAC;wBAClBC,UAAU,EAAE;4BAAC,EAAE;4BAAE,EAAE;yBAAC;wBACpBC,IAAI,EAAE,CAAA;;iCAEd,EAAmC9H,gBAAgB,CAACW,GAAC,CAACvB,QAAQ,CAAC,CAAA;;;QAG/D,CAAA;oBACM,CAAC,CAAC;oBAEF,MAAMwF,MAAM,GAAGtG,+JAAC,CAACsG,MAAM,CAAC;wBAACjE,GAAC,CAAC3B,GAAG,CAACC,GAAG;wBAAE0B,GAAC,CAAC3B,GAAG,CAACE,GAAG;qBAAC,EAAE;wBAAE6I,IAAI,EAAEN;oBAAW,CAAC,CAAC;oBAErE,MAAMO,SAAS,GAAG,CAAA;;mCAExB,EAAqC9H,UAAU,CAACS,GAAC,CAAC7B,KAAK,CAAC,CAAA;kCACxD,EAAoCoB,UAAU,CAACS,GAAC,CAAC5B,IAAI,CAAC,CAAA;;qCAEtD,EAAuCmB,UAAU,CAACS,GAAC,CAACxB,IAAI,CAAC,CAAA;qCACzD,EAAuCe,UAAU,CACnCD,gBAAgB,CAACU,GAAC,CAACvB,QAAQ,CAC7B,CAAC,CAAA;oCACb,EAAsCuB,GAAC,CAAC9B,EAAE,CAAA;;;KAG1C,CAAM;oBAEA+F,MAAM,CAACqD,SAAS,CAACD,SAAS,CAAC;oBAC3BpD,MAAM,CAACsD,EAAE,CAAC,OAAO;0DAAE,IAAM7C,kBAAkB,CAAC1E,GAAC,CAAC,CAAC;;oBAE/C+D,UAAU,CAACxB,OAAO,CAAC,AAACiF,QAAQ,CAACvD,MAAM,CAAC;oBACpCD,UAAU,CAACzB,OAAO,CAACkF,IAAI,CAAC;wBAAEvJ,EAAE,EAAE8B,GAAC,CAAC9B,EAAE;wBAAE+F;oBAAO,CAAC,CAAC;gBAC/C,CAAC,CAAC;;YAEF,IAAIuC,gBAAgB,CAACrG,MAAM,GAAG,CAAC,EAAE;gBAC/B,MAAMuH,MAAM,GAAG/J,+JAAC,CAACgK,YAAY,CAC3BnB,gBAAgB,CAACzG,GAAG;8DAAEC,GAAC,GAAK;4BAACA,GAAC,CAAC3B,GAAG,CAACC,GAAG;4BAAE0B,GAAC,CAAC3B,GAAG,CAACE,GAAG;yBAAC,CACpD,CAAC;;gBACDoD,MAAM,CAACY,OAAO,CAAC,AAACqF,SAAS,CAACF,MAAM,EAAE;oBAAEG,OAAO,EAAE;wBAAC,EAAE;wBAAE,EAAE;qBAAA;gBAAE,CAAC,CAAC;YAC1D;QACF,CAAC;yCAAE;QAACrB,gBAAgB;KAAC,CAAC;IAEtB,MAAMsB,eAAe,GAAGA,CAACC,OAAO,EAAEjJ,gBAAgB,KAAK;QACrD,MAAMkJ,KAAK,GAAGhE,UAAU,CAACzB,OAAO,CAAC0F,IAAI,EAAE9G,CAAC,GAAKA,CAAC,CAACjD,EAAE,KAAK6J,OAAO,CAAC7J,EAAE,CAAC;QACjE,IAAI,CAAC8J,KAAK,IAAI,CAACrG,MAAM,CAACY,OAAO,EAAE;QAC/BZ,MAAM,CAACY,OAAO,CAAC2F,OAAO,CAACF,KAAK,CAAC/D,MAAM,CAACkE,SAAS,CAAC,CAAC,EAAE,EAAE,EAAE;YAAEC,OAAO,EAAE;QAAK,CAAC,CAAC;QACvEJ,KAAK,CAAC/D,MAAM,CAACoE,SAAS,CAAC,CAAC;QACxB3D,kBAAkB,CAACqD,OAAO,CAAC;IAC7B,CAAC;IAED,MAAMO,YAAY,GAAGA,CAACpK,EAAE,EAAE,MAAM,KAAK;QACnCkG,WAAW,EAAEmE,IAAI,GACfA,IAAI,CAACxI,GAAG,EAAEC,GAAC,GACTA,GAAC,CAAC9B,EAAE,KAAKA,EAAE,GACP;oBACE,GAAG8B,GAAC;oBACJjB,MAAM,EAAE,UAAU;oBAClBC,UAAU,EAAEgB,GAAC,CAAChB,UAAU,IAAI+F,IAAI,CAACF,GAAG,CAAC;gBACvC,CAAC,GACD7E,GACN,CACF,CAAC;IACH,CAAC;IAED,MAAMwI,YAAY,GAAGA,CAACtK,IAAE,EAAE,MAAM,KAAK;QACnCkG,WAAW,EAAEmE,MAAI,IAAK;YACpB,MAAME,SAAS,GAAGF,MAAI,CAAC9B,MAAM,EAAEzG,GAAC,GAAKA,GAAC,CAAC9B,EAAE,KAAKA,IAAE,CAAC;YAEjD,IAAIiG,OAAO,CAAC5B,OAAO,CAACpC,MAAM,GAAG,CAAC,EAAE;gBAC9B,MAAM,CAACuI,IAAI,EAAE,GAAG9H,MAAI,CAAC,GAAGuD,OAAO,CAAC5B,OAAO;gBACvC4B,OAAO,CAAC5B,OAAO,GAAG3B,MAAI;gBACtB,OAAO,CAAC;uBAAG6H,SAAS;oBAAEC,IAAI;iBAAC;YAC7B;YAEA,OAAOD,SAAS;QAClB,CAAC,CAAC;IACJ,CAAC;IAED,MAAME,mBAAmB,GAAGA,CAACzK,IAAE,EAAE,MAAM,KAAK;QAC1CkG,WAAW,EAAEmE,MAAI,GACfA,MAAI,CAACxI,GAAG,EAAEC,GAAC,GAAMA,GAAC,CAAC9B,EAAE,KAAKA,IAAE,GAAG;oBAAE,GAAG8B,GAAC;oBAAEf,QAAQ,EAAE;gBAAK,CAAC,GAAGe,GAAE,CAC9D,CAAC;IACH,CAAC;IAED,4DAAA;IACA,MAAM4I,YAAY,GAAG,MAAAA,CAAO1K,IAAE,EAAE,MAAM,KAAK;QACzC,MAAM6J,SAAO,GAAGrG,QAAQ,CAACuG,IAAI,EAAEjI,GAAC,GAAKA,GAAC,CAAC9B,EAAE,KAAKA,IAAE,CAAC;QACjD,IAAI,CAAC6J,SAAO,IAAI,CAACA,SAAO,CAAC9I,QAAQ,EAAE;QAEnC,IAAI;YACF,MAAMsG,KAAG,GAAG,MAAMF,KAAK,CAAC,sBAAsB,EAAE;gBAC9CwD,MAAM,EAAE,MAAM;gBACdC,OAAO,EAAE;oBAAE,cAAc,EAAE;gBAAmB,CAAC;gBAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;oBAAE7J,MAAM,EAAE2I,SAAO,CAAC3I,MAAAA;gBAAO,CAAC;YACjD,CAAC,CAAC;YACF,MAAMqG,MAAI,GAAG,MAAMF,KAAG,CAACC,IAAI,CAAC,CAAC;YAE7B,IAAIC,MAAI,CAACC,IAAI,IAAI,OAAOD,MAAI,CAACC,IAAI,CAACtG,MAAM,KAAK,QAAQ,EAAE;gBACrD6F,aAAa,CAACQ,MAAI,CAACC,IAAI,CAACtG,MAAM,CAAC;YACjC;YAEAgF,WAAW,EAAEmE,MAAI,GACfA,MAAI,CAACxI,GAAG,EAAEC,GAAC,GAAMA,GAAC,CAAC9B,EAAE,KAAKA,IAAE,GAAG;wBAAE,GAAG8B,GAAC;wBAAEjB,MAAM,EAAE;oBAAW,CAAC,GAAGiB,GAAE,CAClE,CAAC;QACH,CAAC,CAAC,OAAO4F,KAAG,EAAE;YACZC,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAEF,KAAG,CAAC;QAC9C;IACF,CAAC;IAED,MAAMsD,SAAS,GAAG3E,WAAW,GACzB,YAAY,GACZ,CAAA,mBAAA,EAAsBiC,gBAAgB,CAACrG,MAAM,EAAE;IAEnD,qBACE,6LAAC,GAAG;QAAC,SAAS,EAAC,wGAAwG;;0BACrH,6LAAC,GAAG;gBAAC,SAAS,EAAC,wBAAwB;;kCAErC,6LAAC,GAAG;wBAAC,SAAS,EAAC,yEAAyE;;0CACtF,6LAAC,GAAG;;kDACF,6LAAC,GAAG;wCAAC,SAAS,EAAC,6KAA6K;;4CAAA;0DAE1L,6LAAC,IAAI;gDAAC,SAAS,EAAC,qCAAqC;;;;;;;;;;;;kDAEvD,6LAAC,EAAE;wCAAC,SAAS,EAAC,8JAA8J;kDAAA;;;;;;kDAG5K,6LAAC,CAAC;wCAAC,SAAS,EAAC,2CAA2C;kDAAA;;;;;;;;;;;;0CAO1D,6LAAC,GAAG;gCAAC,SAAS,EAAC,yBAAyB;;kDAEtC,6LAAC,GAAG;wCAAC,SAAS,EAAC,wEAAwE;;0DACrF,6LAAC,GAAG;gDAAC,SAAS,EAAC,uDAAuD;0DAAA;;;;;;0DAGtE,6LAAC,GAAG;gDAAC,SAAS,EAAC,oCAAoC;0DAChD6E,UAAU;;;;;;;;;;;;kDAIf,6LAAC,MAAM;wCACL,OAAO,CAAC,CAAC,IACPrD,MAAM,CAACY,OAAO,EAAE2F,OAAO,CAACxJ,UAAU,EAAE,EAAE,EAAE;gDAAE0J,OAAO,EAAE;4CAAK,CAAC,CAC3D,CAAC;wCACD,SAAS,EAAC,+GAA+G;kDAAA;;;;;;;;;;;;;;;;;;kCAO/H,6LAAC,GAAG;wBAAC,SAAS,EAAC,uCAAuC;;0CAEpD,6LAAC,GAAG;gCAAC,SAAS,EAAC,eAAe;wDAC5B,6LAAC,GAAG;oCAAC,SAAS,EAAC,oIAAoI;;wCAChJ/D,UAAU,kBACT,6LAAC,GAAG;4CAAC,SAAS,EAAC,qGAAqG;;8DAClH,6LAAC,GAAG;oDAAC,SAAS,EAAC,sFAAsF;;;;;;8DACrG,6LAAC,IAAI;oDAAC,SAAS,EAAC,uBAAuB;8DAAC,cAAc,EAAE,IAAI;;;;;;;;;;;;sDAGhE,6LAAC,GAAG;4CACF,GAAG,CAAC,CAACR,eAAe,CAAC;4CACrB,KAAK,CAAC,CAAC;gDAAEsF,MAAM,EAAE,OAAO;gDAAEC,KAAK,EAAE;4CAAO,CAAC,CAAC;;;;;;;;;;;;;;;;;0CAMhD,6LAAC,KAAK;gCAAC,SAAS,EAAC,oFAAoF;;kDACnG,6LAAC,GAAG;wCAAC,SAAS,EAAC,wCAAwC;;0DACrD,6LAAC,EAAE;gDAAC,SAAS,EAAC,uCAAuC;;oDAAA;oDAC1C5C,gBAAgB,CAACrG,MAAM;oDAAC;;;;;;;0DAEnC,6LAAC,IAAI;gDAAC,SAAS,EAAC,2BAA2B,CAAC;0DAAC+I,SAAS,CAAC,EAAE,IAAI;;;;;;;;;;;;kDAI/D,6LAAC,GAAG;wCAAC,SAAS,EAAC,4BAA4B;;0DACzC,6LAAC,KAAK;0DAAC,cAAc,EAAE,KAAK;;;;;;0DAC5B,6LAAC,MAAM;gDACL,KAAK,CAAC,CAACvE,OAAO,CAACnG,IAAI,CAAC;gDACpB,QAAQ,CAAC,EAAE6K,CAAC,GACVzE,UAAU,EAAE0E,CAAC,GAAA,CAAM;4DAAE,GAAGA,CAAC;4DAAE9K,IAAI,EAAE6K,CAAC,CAACE,MAAM,CAACC,KAAAA;wDAAM,CAAC,CAAC,CACpD,CAAC;gDACD,SAAS,EAAC,2GAA2G;;kEAErH,6LAAC,MAAM;wDAAC,KAAK,EAAC,OAAO;kEAAC,GAAG,EAAE,MAAM;;;;;;kEACjC,6LAAC,MAAM;wDAAC,KAAK,EAAC,aAAa;kEAAC,qBAAqB,EAAE,MAAM;;;;;;kEACzD,6LAAC,MAAM;wDAAC,KAAK,EAAC,aAAa;kEAAC,WAAW,EAAE,MAAM;;;;;;kEAC/C,6LAAC,MAAM;wDAAC,KAAK,EAAC,SAAS;kEAAC,aAAa,EAAE,MAAM;;;;;;;;;;;;0DAG/C,6LAAC,KAAK;gDAAC,SAAS,EAAC,YAAY;0DAAC,kBAAkB,EAAE,KAAK;;;;;;0DACvD,6LAAC,MAAM;gDACL,KAAK,CAAC,CAAC7E,OAAO,CAAClG,QAAQ,CAAC;gDACxB,QAAQ,CAAC,EAAE4K,GAAC,GACVzE,UAAU,EAAE0E,GAAC,GAAA,CAAM;4DAAE,GAAGA,GAAC;4DAAE7K,QAAQ,EAAE4K,GAAC,CAACE,MAAM,CAACC,KAAAA;wDAAM,CAAC,CAAC,CACxD,CAAC;gDACD,SAAS,EAAC,2GAA2G;;kEAErH,6LAAC,MAAM;wDAAC,KAAK,EAAC,OAAO;kEAAC,GAAG,EAAE,MAAM;;;;;;kEACjC,6LAAC,MAAM;wDAAC,KAAK,EAAC,MAAM;kEAAC,IAAI,EAAE,MAAM;;;;;;kEACjC,6LAAC,MAAM;wDAAC,KAAK,EAAC,OAAO;kEAAC,MAAM,EAAE,MAAM;;;;;;kEACpC,6LAAC,MAAM;wDAAC,KAAK,EAAC,MAAM;kEAAC,GAAG,EAAE,MAAM;;;;;;;;;;;;;;;;;;kDAKpC,6LAAC,EAAE;wCAAC,SAAS,EAAC,8CAA8C;kDACzDhD,gBAAgB,CAACzG,GAAG,EAAEC,GAAC,IAAK;4CAC3B,MAAMjB,MAAM,GAAGiB,GAAC,CAACjB,MAAM,IAAI,SAAS;4CACpC,MAAM0K,UAAU,GAAG1K,MAAM,KAAK,UAAU;4CACxC,MAAM2K,UAAU,GAAG3K,MAAM,KAAK,UAAU;4CACxC,MAAM4K,QAAQ,GACZF,UAAU,IAAIzJ,GAAC,CAAChB,UAAU,GACtBJ,cAAc,GAAA,CAAIiG,GAAG,GAAG7E,GAAC,CAAChB,UAAU,CAAC,GACrCJ,cAAc;4CACpB,MAAMgL,SAAS,GAAG/I,cAAc,CAAC8I,QAAQ,CAAC;4CAE1C,qBACE,6LAAC,EAAE,CACD,GAAG,CAAC;gDACJ,OAAO,CAAC,CAAC,IAAM7B,eAAe,CAAC9H,GAAC,CAAC,CAAC;gDAClC,SAAS,CAAC,CAAC,CAAA,+EAAA,EACT0J,UAAU,GAAG,2BAA2B,GAAG,EAAE,EAC7C,CAAC;wEAEH,6LAAC,GAAG;oDAAC,SAAS,EAAC,YAAY;;sEAEzB,6LAAC,GAAG;4DAAC,SAAS,EAAC,MAAM;oFACnB,6LAAC,GAAG;gEACF,SAAS,EAAC,sBAAsB;gEAChC,KAAK,CAAC,CAAC;oEACLG,eAAe,EAAExK,gBAAgB,CAACW,GAAC,CAACvB,QAAQ;gEAC9C,CAAC,CAAC;;;;;;;;;;;sEAKN,6LAAC,GAAG;4DAAC,SAAS,EAAC,sBAAsB;;8EACnC,6LAAC,GAAG;oEAAC,SAAS,EAAC,kCAAkC;;sFAC/C,6LAAC,EAAE;4EAAC,SAAS,EAAC,kCAAkC;sFAC7CuB,GAAC,CAAC7B,KAAK;;;;;;sFAEV,6LAAC,IAAI;4EAAC,SAAS,EAAC,2BAA2B;;gFAAA;gFACvC6B,GAAC,CAAC9B,EAAE;;;;;;;;;;;;;8EAIV,6LAAC,CAAC;oEAAC,SAAS,EAAC,gCAAgC;8EAC1C8B,GAAC,CAAC5B,IAAI;;;;;;8EAIT,6LAAC,GAAG;oEAAC,SAAS,EAAC,kEAAkE;;sFAC/E,6LAAC,IAAI;;gFAAA;gFACS,GAAG;gFACd,GAAG,CAAC0L,MAAM,CAAC9J,GAAC,CAACd,UAAU,CAAC,CAAC6K,MAAM,CAAC,CAAC,EAAE,GAAG,CAAC;;;;;;;sFAE1C,6LAAC,IAAI;4EAAC,SAAS,EAAC,gCAAgC;;gFAAA;gFAC5C/J,GAAC,CAACZ,MAAM;gFAAC;;;;;;;;;;;;;gEAKdL,MAAM,KAAK,SAAS,kBACnB,6LAAC,GAAG;oEAAC,SAAS,EAAC,6BAA6B;;sFAC1C,6LAAC,MAAM;4EACL,SAAS,EAAC,2FAA2F;4EACrG,OAAO,CAAC,CAAEsK,GAAC,IAAK;gFACdA,GAAC,CAACW,eAAe,CAAC,CAAC;gFACnB1B,YAAY,CAACtI,GAAC,CAAC9B,EAAE,CAAC;4EACpB,CAAC,CAAC;sFAAA;;;;;;sFAIJ,6LAAC,MAAM;4EACL,SAAS,EAAC,0FAA0F;4EACpG,OAAO,CAAC,EAAEmL,GAAC,IAAK;gFACdA,GAAC,CAACW,eAAe,CAAC,CAAC;gFACnBxB,YAAY,CAACxI,GAAC,CAAC9B,EAAE,CAAC;4EACpB,CAAC,CAAC;sFAAA;;;;;;;;;;;;gEAOPa,MAAM,KAAK,UAAU,kBACpB,6LAAC,GAAG;oEAAC,SAAS,EAAC,gDAAgD;;sFAC7D,6LAAC,GAAG;4EAAC,SAAS,EAAC,mCAAmC;oGAChD,6LAAC,IAAI;;oFAAC,WAAW;oFAAC6K,SAAS,CAAC,EAAE,IAAI;;;;;;;;;;;;sFAGpC,6LAAC,GAAG;4EAAC,SAAS,EAAC,oEAAoE;;8FACjF,6LAAC,KAAK;oFAAC,SAAS,EAAC,+CAA+C;;sGAC9D,6LAAC,IAAI;4FAAC,SAAS,EAAC,iDAAiD;sGAAA;;;;;;sGAGjE,6LAAC,KAAK;4FACJ,IAAI,EAAC,MAAM;4FACX,MAAM,EAAC,SAAS;4FAChB,SAAS,EAAC,QAAQ;4FAClB,QAAQ,CAAC,CAAEP,GAAC,IAAK;gGACfA,GAAC,CAACW,eAAe,CAAC,CAAC;gGACnB,IAAIX,GAAC,CAACE,MAAM,CAACU,KAAK,IAAIZ,GAAC,CAACE,MAAM,CAACU,KAAK,CAAC,CAAC,CAAC,EAAE;oGACvCtB,mBAAmB,CAAC3I,GAAC,CAAC9B,EAAE,CAAC;gGAC3B;4FACF,CAAC,CAAC;;;;;;;;;;;;8FAIN,6LAAC,MAAM;oFACL,SAAS,CAAC,CAAC,CAAA,qEAAA,EACT,CAAC8B,GAAC,CAACf,QAAQ,GACP,+BAA+B,GAC/B,sBAAsB,EAC1B,CAAC;oFACH,QAAQ,CAAC,CAAC,CAACe,GAAC,CAACf,QAAQ,CAAC;oFACtB,OAAO,CAAC,EAAEoK,GAAC,IAAK;wFACdA,GAAC,CAACW,eAAe,CAAC,CAAC;wFACnB,IAAI,CAAChK,GAAC,CAACf,QAAQ,EAAE;wFACjB2J,YAAY,CAAC5I,GAAC,CAAC9B,EAAE,CAAC;oFACpB,CAAC,CAAC;8FAAA;;;;;;;;;;;;;;;;;;gEAQTwL,UAAU,kBACT,6LAAC,GAAG;oEAAC,SAAS,EAAC,6CAA6C;;wEAAA;wEAC5B1J,GAAC,CAACZ,MAAM;wEAAC;;;;;;;;;;;;;;;;;;;+CAhH1CY,GAAC,CAAC9B,EAAE,CAAC;;;;;wCAuHhB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;0BAOV,6LAAC,GAAG;gBAAC,SAAS,EAAC,cAAc;wCAC3B,6LAAC,GAAG;oBAAC,SAAS,EAAC,sGAAsG;;sCACnH,6LAAC,EAAE;4BAAC,SAAS,EAAC,4CAA4C;sCAAA;;;;;;sCAK1D,6LAAC,GAAG;4BAAC,SAAS,EAAC,sDAAsD;;8CACnE,6LAAC,GAAG;oCAAC,SAAS,EAAC,2DAA2D;;sDACxE,6LAAC,IAAI;4CAAC,SAAS,EAAC,uBAAuB;sDAAC,YAAY,EAAE,IAAI;;;;;;sDAC1D,6LAAC,IAAI;4CAAC,SAAS,EAAC,+BAA+B;sDAC5CwD,QAAQ,CAACvB,MAAM;;;;;;;;;;;;8CAIpB,6LAAC,GAAG;oCAAC,SAAS,EAAC,2DAA2D;;sDACxE,6LAAC,IAAI;4CAAC,SAAS,EAAC,uBAAuB;sDAAA;;;;;;sDAGvC,6LAAC,IAAI;4CAAC,SAAS,EAAC,iCAAiC;sDAC9CuB,QAAQ,CAAC+E,MAAM,EAAEzG,GAAC,GAAKA,GAAC,CAACvB,QAAQ,KAAK,MAAM,CAAC,CAAC0B,MAAM;;;;;;;;;;;;8CAIzD,6LAAC,GAAG;oCAAC,SAAS,EAAC,2DAA2D;;sDACxE,6LAAC,IAAI;4CAAC,SAAS,EAAC,uBAAuB;sDAAA;;;;;;sDAGvC,6LAAC,IAAI;4CAAC,SAAS,EAAC,oCAAoC;sDAAA;;;;;;;;;;;;8CAKtD,6LAAC,GAAG;oCAAC,SAAS,EAAC,2DAA2D;;sDACxE,6LAAC,IAAI;4CAAC,SAAS,EAAC,uBAAuB;sDAAA;;;;;;wCAItC+J,MAAM,CAACC,OAAO,CACbzI,QAAQ,CAAC0I,MAAM,CAAC,CAACC,GAAG,EAAEC,AAAwBtK,GAAC,GAAnB,CAAC,CAAuB,KAAjB,EAAE,MAAM,CAAC;4CAC1C,MAAMuK,IAAI,GAAG,GAAGvK,GAAC,CAAC3B,GAAG,CAACC,GAAG,CAACkM,OAAO,CAAC,CAAC,CAAC,CAAA,EAAA,EAAKxK,GAAC,CAAC3B,GAAG,CAACE,GAAG,CAACiM,OAAO,CACxD,CACF,CAAC,EAAE;4CACHH,GAAG,CAACE,IAAI,CAAC,GAAG,CAACF,GAAG,CAACE,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;4CAChC,OAAOF,GAAG;wCACZ,CAAC,EAAE,CAAC,CAAC,CACP,CAAC,CACEI,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,GAAKA,CAAC,CAAC,CAAC,CAAC,GAAGD,CAAC,CAAC,CAAC,CAAC,CAAC,CAC3B/J,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CACXZ,GAAG,CAAC,CAAC,CAACwK,MAAI,EAAE1K,KAAK,CAAC,iBACjB,6LAAC,IAAI,CAAC,GAAG,CAAC;gDAAO,SAAS,EAAC,2BAA2B;;oDAAA;oDAC5C0K,MAAI;oDAAC,GAAG;oDAAC1K,KAAK;oDAAC;;+CADd0K,MAAI,CAAC;;;;;;;;;;;;;;;;;sCAQxB,6LAAC,GAAG;4BAAC,SAAS,EAAC,8CAA8C;;8CAC3D,6LAAC,GAAG;oCAAC,SAAS,EAAC,4BAA4B;;sDACzC,6LAAC,IAAI;4CAAC,SAAS,EAAC,gCAAgC;sDAAA;;;;;;sDAIhD,6LAAC,GAAG;4CAAC,SAAS,EAAC,oBAAoB;;8DACjC,6LAAC,GAAG;oDAAC,SAAS,EAAC,iEAAiE;;;;;;8DAChF,6LAAC,GAAG;oDAAC,SAAS,EAAC,4EAA4E;;;;;;8DAC3F,6LAAC,GAAG;oDAAC,SAAS,EAAC,yEAAyE;;;;;;8DAExF,6LAAC,GAAG;oDAAC,SAAS,EAAC,mDAAmD;4EAChE,6LAAC,IAAI;wDAAC,SAAS,EAAC,8BAA8B;kEAC3C7I,QAAQ,CAACvB,MAAM;;;;;;;;;;;;;;;;;;;;;;;8CAMxB,6LAAC,GAAG;;sDACF,6LAAC,IAAI;4CAAC,SAAS,EAAC,sCAAsC;sDAAA;;;;;;sDAItD,6LAAC,GAAG;4CAAC,SAAS,EAAC,MAAM;;8DACnB,6LAAC,CAAC;oDAAC,SAAS,EAAC,sBAAsB;8DAAC,IAAI,EAAE,CAAC;;;;;;8DAC3C,6LAAC,GAAG;oDAAC,SAAS,EAAC,2BAA2B;4EACxC,6LAAC,GAAG;wDACF,SAAS,EAAC,wBAAwB;wDAClC,KAAK,CAAC,CAAC;4DACLiJ,KAAK,EAAE,GACL1H,QAAQ,CAACvB,MAAM,GACVuB,QAAQ,CAAC+E,MAAM,EAAEzG,IAAC,GAAKA,IAAC,CAACvB,QAAQ,KAAK,MAAM,CAAC,CAC3C0B,MAAM,GACPuB,QAAQ,CAACvB,MAAM,GACjB,GAAG,GACH,CAAC,CAAA,CAAA,CAAA;wDAET,CAAC,CAAC;;;;;;;;;;;;;;;;;sDAKR,6LAAC,GAAG;4CAAC,SAAS,EAAC,MAAM;;8DACnB,6LAAC,CAAC;oDAAC,SAAS,EAAC,yBAAyB;8DAAC,MAAM,EAAE,CAAC;;;;;;8DAChD,6LAAC,GAAG;oDAAC,SAAS,EAAC,8BAA8B;4EAC3C,6LAAC,GAAG;wDACF,SAAS,EAAC,2BAA2B;wDACrC,KAAK,CAAC,CAAC;4DACLiJ,KAAK,EAAE,GACL1H,QAAQ,CAACvB,MAAM,GACVuB,QAAQ,CAAC+E,MAAM,EAAEzG,IAAC,GAAKA,IAAC,CAACvB,QAAQ,KAAK,OAAO,CAAC,CAC5C0B,MAAM,GACPuB,QAAQ,CAACvB,MAAM,GACjB,GAAG,GACH,CAAC,CAAA,CAAA,CAAA;wDAET,CAAC,CAAC;;;;;;;;;;;;;;;;;sDAKR,6LAAC,GAAG;4CAAC,SAAS,EAAC,MAAM;;8DACnB,6LAAC,CAAC;oDAAC,SAAS,EAAC,wBAAwB;8DAAC,GAAG,EAAE,CAAC;;;;;;8DAC5C,6LAAC,GAAG;oDAAC,SAAS,EAAC,6BAA6B;4EAC1C,6LAAC,GAAG;wDACF,SAAS,EAAC,0BAA0B;wDACpC,KAAK,CAAC,CAAC;4DACLiJ,KAAK,EAAE,GACL1H,QAAQ,CAACvB,MAAM,GACVuB,QAAQ,CAAC+E,MAAM,EAAEzG,IAAC,GAAKA,IAAC,CAACvB,QAAQ,KAAK,MAAM,CAAC,CAC3C0B,MAAM,GACPuB,QAAQ,CAACvB,MAAM,GACjB,GAAG,GACH,CAAC,CAAA,CAAA,CAAA;wDAET,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAUhB,6LAAC,WAAW;gBAAC,QAAQ,CAAC,CAACuB,QAAQ,CAAC;;;;;;0BAGhC,6LAAC,KAAK,CAAC;0BAAC,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAiGd,CAAO,CAAC,EAAE,KAAK;;;;;;;;;;;;AAGf;;MArsBwBkC,oBAAoBA,CAAA,EAAG","ignoreList":[]}}]
}