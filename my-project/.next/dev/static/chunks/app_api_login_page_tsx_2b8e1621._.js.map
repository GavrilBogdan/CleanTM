{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/gavrilbogdan/Documents/GitHub/CleanTM/marian/Untitled/my-project/app/api/login/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function LoginPage() {\n  const router = useRouter();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleLogin = async () => {\n    if (!email || !password || loading) return;\n    setLoading(true);\n    setMessage(\"\");\n\n    try {\n      const res = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email, password }),\n      });\n      const data = await res.json();\n\n      if (!res.ok) {\n        setMessage(`❌ ${data.error || \"Login failed\"}`);\n      } else {\n        setMessage(\"✅ Login successful! Redirecting...\");\n        setTimeout(() => router.push(\"/\"), 600);\n      }\n    } catch (err) {\n      setMessage(\"❌ Something went wrong. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Enter\") {\n      handleLogin();\n    }\n  };\n\n  return (\n    <div className=\"relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-slate-950 via-slate-900 to-emerald-900\">\n      {/* Glow blobs */}\n      <div className=\"pointer-events-none absolute -top-32 -left-32 h-72 w-72 rounded-full bg-emerald-500/30 blur-3xl\" />\n      <div className=\"pointer-events-none absolute bottom-[-120px] right-[-80px] h-80 w-80 rounded-full bg-teal-500/30 blur-3xl\" />\n      <div className=\"pointer-events-none absolute top-1/3 right-10 h-52 w-52 rounded-full bg-emerald-400/20 blur-3xl\" />\n\n      {/* Particles */}\n      <div className=\"pointer-events-none absolute inset-0\">\n        <span className=\"absolute top-10 left-16 h-1 w-1 rounded-full bg-emerald-300 opacity-80 float-slow\" />\n        <span className=\"absolute top-32 right-24 h-1 w-1 rounded-full bg-emerald-200 opacity-70 float-slower\" />\n        <span className=\"absolute bottom-24 left-20 h-1 w-1 rounded-full bg-emerald-400 opacity-80 float-slow\" />\n        <span className=\"absolute bottom-10 right-10 h-1 w-1 rounded-full bg-emerald-300 opacity-80 float-slower\" />\n        <span className=\"absolute top-1/2 left-1/4 h-1 w-1 rounded-full bg-emerald-200 opacity-70 float-slow\" />\n      </div>\n\n      {/* Card */}\n      <div className=\"relative z-10 w-full max-w-md px-8 py-10 rounded-3xl bg-white/5 border border-emerald-500/30 shadow-[0_0_60px_rgba(16,185,129,0.35)] backdrop-blur-2xl\">\n        {/* Badge / title */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <p className=\"text-xs font-semibold uppercase tracking-[0.2em] text-emerald-300\">\n              Welcome back\n            </p>\n            <h1 className=\"mt-1 text-3xl font-extrabold bg-gradient-to-b from-white to-slate-300 bg-clip-text text-transparent tracking-wide\">\n              Sign in to CleanTM\n            </h1>\n          </div>\n          <div className=\"h-10 w-10 rounded-2xl bg-emerald-500/20 border border-emerald-400/40 flex items-center justify-center shadow-lg shadow-emerald-500/40\">\n            <span className=\"text-xl\">♻️</span>\n          </div>\n        </div>\n\n        <p className=\"text-xs text-slate-300/80 mb-6\">\n          Continue your cleanup quests, earn points and unlock rewards.\n        </p>\n\n        {/* Inputs */}\n        <div className=\"space-y-5\">\n          <div className=\"space-y-2\">\n            <label className=\"text-xs font-semibold text-slate-200\">\n              Email\n            </label>\n            <div className=\"relative\">\n              <input\n                type=\"email\"\n                placeholder=\"you@example.com\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                onKeyDown={handleKeyDown}\n                className=\"w-full rounded-2xl border border-emerald-500/30 bg-slate-900/40 px-4 py-3 text-sm text-emerald-50 placeholder:text-slate-500 outline-none focus:border-emerald-400 focus:ring-2 focus:ring-emerald-500/40 transition\"\n              />\n              <div className=\"pointer-events-none absolute inset-px rounded-2xl border border-emerald-400/10 blur-[1px]\" />\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <label className=\"text-xs font-semibold text-slate-200\">\n              Password\n            </label>\n            <div className=\"relative\">\n              <input\n                type=\"password\"\n                placeholder=\"••••••••\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                onKeyDown={handleKeyDown}\n                className=\"w-full rounded-2xl border border-emerald-500/30 bg-slate-900/40 px-4 py-3 text-sm text-emerald-50 placeholder:text-slate-500 outline-none focus:border-emerald-400 focus:ring-2 focus:ring-emerald-500/40 transition\"\n              />\n              <div className=\"pointer-events-none absolute inset-px rounded-2xl border border-emerald-400/10 blur-[1px]\" />\n            </div>\n          </div>\n        </div>\n\n        {/* Message */}\n        {message && (\n          <p className=\"mt-4 text-xs font-medium text-emerald-100\">{message}</p>\n        )}\n\n        {/* Button */}\n        <button\n          onClick={handleLogin}\n          disabled={!email || !password || loading}\n          className={`\n            group relative mt-6 w-full overflow-hidden rounded-2xl border border-emerald-400/60\n            bg-gradient-to-r from-emerald-500/80 via-emerald-600 to-teal-500\n            py-3 text-sm font-bold tracking-wide text-white shadow-lg shadow-emerald-500/40\n            transition-all duration-300\n            hover:shadow-emerald-400/60 hover:-translate-y-[1px]\n            disabled:opacity-60 disabled:cursor-not-allowed\n          `}\n        >\n          <span className=\"relative z-10 flex items-center justify-center gap-2\">\n            {loading && (\n              <span className=\"h-4 w-4 rounded-full border-2 border-white/40 border-t-transparent animate-spin\" />\n            )}\n            {loading ? \"Signing in...\" : \"Sign In\"}\n          </span>\n          <span\n            className=\"\n              pointer-events-none absolute inset-0 translate-x-[-100%]\n              bg-gradient-to-r from-white/30 via-white/40 to-white/10\n              opacity-0 transition-all duration-500\n              group-hover:translate-x-0 group-hover:opacity-100\n            \"\n          />\n        </button>\n\n        {/* Footer */}\n        <div className=\"mt-6 flex flex-col items-center gap-2 text-xs text-slate-300/80\">\n          <p>\n            Don&apos;t have an account?{\" \"}\n            <button\n              className=\"font-semibold text-emerald-300 hover:text-emerald-200 hover:underline underline-offset-4 transition\"\n              onClick={() => router.push(\"/api/signup\")}\n            >\n              Sign Up\n            </button>\n          </p>\n          <p className=\"text-[11px] text-slate-500\">\n            By signing in you continue your participation in CleanTM quests.\n          </p>\n        </div>\n      </div>\n\n      {/* Local styles for particle animation */}\n      <style>{`\n        @keyframes float-slow {\n          0% { transform: translate3d(0, 0, 0); opacity: 0.4; }\n          50% { transform: translate3d(10px, -20px, 0); opacity: 0.9; }\n          100% { transform: translate3d(0, 0, 0); opacity: 0.4; }\n        }\n        .float-slow {\n          animation: float-slow 18s ease-in-out infinite;\n        }\n        .float-slower {\n          animation: float-slow 26s ease-in-out infinite;\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":["useState","useRouter","LoginPage","router","email","setEmail","password","setPassword","message","setMessage","loading","setLoading","handleLogin","res","fetch","method","headers","body","JSON","stringify","data","json","ok","error","setTimeout","push","err","handleKeyDown","e","React","KeyboardEvent","HTMLInputElement","key","target","value"],"mappings":"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","ignoreList":[]}}]
}