{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/gavrilbogdan/Documents/GitHub/CleanTM/marian/Untitled/my-project/app/rewards/page.tsx"],"sourcesContent":["\"use client\";\nimport { useEffect, useState } from \"react\";\n\nexport default function RewardsPage() {\n  const [user, setUser] = useState(null);\n  const [items, setItems] = useState([\n    { id: 1, name: \"Coffee Coupon\", cost: 50 },\n    { id: 2, name: \"Free Flower Bouquet\", cost: 200 },\n    { id: 3, name: \"Discount 10%\", cost: 120 },\n  ]);\n  const [message, setMessage] = useState(\"\");\n\n  // Fetch user (points)\n  useEffect(() => {\n    const fetchUser = async () => {\n      const res = await fetch(\"/api/auth/me\");\n      const data = await res.json();\n      if (data.user) setUser(data.user);\n    };\n    fetchUser();\n  }, []);\n\n  const buyItem = async (item) => {\n    if (!user) return;\n\n    const res = await fetch(\"/api/rewards/buy\", {\n      method: \"POST\",\n      body: JSON.stringify({ itemId: item.id }),\n    });\n\n    const data = await res.json();\n    if (res.ok) {\n      setMessage(`You bought ${item.name}!`);\n      setUser({ ...user, points: data.points });\n    } else {\n      setMessage(data.error);\n    }\n  };\n\n  if (!user) return <div className=\"p-6\">Loading...</div>;\n\n  return (\n    <div className=\"p-6\">\n      <h1 className=\"text-3xl font-bold mb-4\">Rewards Shop</h1>\n\n      <p className=\"mb-6 text-lg\">\n        Your Points: <strong>{user.points}</strong>\n      </p>\n\n      {message && (\n        <div className=\"mb-4 p-3 bg-yellow-200 rounded\">{message}</div>\n      )}\n\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4\">\n        {items.map((item) => (\n          <div key={item.id} className=\"p-4 border rounded-lg shadow\">\n            <h2 className=\"text-xl font-semibold\">{item.name}</h2>\n            <p className=\"mt-2\">Cost: {item.cost} points</p>\n            <button\n              onClick={() => buyItem(item)}\n              className=\"mt-4 bg-blue-600 text-white px-4 py-2 rounded\"\n              disabled={user.points < item.cost}\n            >\n              {user.points < item.cost ? \"Not enough points\" : \"Buy\"}\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":["c","_c","useEffect","useState","RewardsPage","$","$i","Symbol","for","user","setUser","t0","id","name","cost","items","message","setMessage","t1","t2","RewardsPage[useEffect()]","fetchUser","RewardsPage[useEffect() > fetchUser]","res","fetch","data","json","t3","item","res_0","method","body","JSON","stringify","itemId","data_0","ok","points","error","buyItem","t4","t5","t6","t7","t8","item_0","RewardsPage[items.map() > <button>.onClick]","map","t9"],"mappings":"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","ignoreList":[]}}]
}