(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let a=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},r=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:s="",children:i,iconNode:c,...d},m)=>(0,t.createElement)("svg",{ref:m,...n,width:a,height:a,stroke:e,strokeWidth:o?24*Number(l)/Number(a):l,className:r("lucide",s),...!i&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(i)?i:[i]])),o=(e,n)=>{let o=(0,t.forwardRef)(({className:o,...s},i)=>(0,t.createElement)(l,{ref:i,iconNode:n,className:r(`lucide-${a(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,o),...s}));return o.displayName=a(e),o};e.s(["default",()=>o],75254)},62319,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(18566),n=e.i(45542);e.s(["default",0,({className:e})=>{let[l,o]=(0,a.useState)(!1),[s,i]=(0,a.useState)(!1),{user:c,setUser:d}=(0,n.useUser)(),m=(0,r.useRouter)(),h=(0,a.useRef)(null);(0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/auth/me");if(e.ok){let t=await e.json();d(t.user||null)}else d(null)}catch{d(null)}})()},[d]),(0,a.useEffect)(()=>{let e=e=>{h.current&&!h.current.contains(e.target)&&i(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let u=e=>{if(e.startsWith("/"))m.push(e);else{let t=document.getElementById(e);if(t){let e=t.getBoundingClientRect().top+window.pageYOffset+-100;window.scrollTo({top:e,behavior:"smooth"})}}o(!1),i(!1)},f=async()=>{await fetch("/api/auth/logout",{method:"POST"}),d(null),m.push("/")};return(0,t.jsxs)("div",{className:`relative z-[9999] w-full flex justify-center ${e||""}`,children:[(0,t.jsxs)("nav",{className:" fixed top-4 w-[92%] max-w-7xl mx-auto flex items-center justify-between px-6 md:px-10 py-3 rounded-full shadow-[0_0_25px_rgba(16,185,129,0.6)] bg-slate-900/85 border border-emerald-500/40 backdrop-blur-2xl z-[10000] ",children:[(0,t.jsxs)("div",{onClick:()=>u("/"),className:"flex items-center gap-3 cursor-pointer hover:scale-105 transition-transform duration-300",children:[(0,t.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/128/892/892930.png",alt:"CleanTM Logo",className:"h-9 w-9 drop-shadow-[0_0_10px_rgba(16,185,129,0.9)]"}),(0,t.jsx)("span",{className:"text-xl font-extrabold text-emerald-100 tracking-wide",children:"CleanTM"})]}),(0,t.jsx)("ul",{className:"hidden lg:flex items-center gap-10 text-emerald-50 font-medium text-sm md:text-base",children:[{label:"Home",id:"/"},{label:"Map",id:"/Participate"},{label:"Weekly Quests",id:"/task"},{label:"Rewards",id:"/shop"}].map(e=>(0,t.jsxs)("li",{onClick:()=>u(e.id),className:" relative cursor-pointer group transition-colors duration-300 text-emerald-100 hover:text-emerald-300 ",children:[e.label,(0,t.jsx)("span",{className:" absolute left-1/2 -bottom-1 h-[2px] w-0 bg-emerald-400 rounded-full group-hover:w-full group-hover:-translate-x-1/2 transition-all duration-300 "})]},e.label))}),(0,t.jsx)("div",{className:"hidden lg:flex items-center gap-4 relative",ref:h,children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{onClick:()=>i(!s),className:" font-semibold text-emerald-50 cursor-pointer px-3 py-2 rounded-xl bg-emerald-500/5 hover:bg-emerald-500/15 border border-emerald-400/30 transition ",children:c.email}),s&&(0,t.jsxs)("div",{className:" absolute right-0 top-12 bg-slate-900/95 rounded-xl shadow-2xl border border-emerald-500/30 w-44 py-2 z-[10001] animate-slide-down backdrop-blur-xl ",children:[(0,t.jsx)("button",{onClick:()=>u("/Dashboard"),className:" w-full text-left px-4 py-2 text-emerald-50 text-sm hover:bg-emerald-500/10 transition ",children:"Dashboard"}),(0,t.jsx)("button",{onClick:()=>u("/shop/inventory"),className:" w-full text-left px-4 py-2 text-emerald-50 text-sm hover:bg-emerald-500/10 transition ",children:"Inventory"}),(0,t.jsx)("button",{onClick:f,className:" w-full text-left px-4 py-2 text-red-400 text-sm hover:bg-red-500/10 transition ",children:"Logout"})]})]}):(0,t.jsx)("button",{onClick:()=>u("/api/login"),className:" px-5 py-2 rounded-full bg-emerald-500 text-white text-sm font-bold shadow-lg shadow-emerald-500/40 hover:bg-emerald-400 hover:shadow-emerald-400/60 transition-all ",children:"Login"})}),(0,t.jsxs)("button",{onClick:()=>o(!l),className:"lg:hidden relative w-10 h-10 flex flex-col justify-between items-center z-[10002]",children:[(0,t.jsx)("span",{className:`
              block h-[3px] w-8 rounded-full
              bg-emerald-50 shadow
              transition-transform duration-300
              ${l?"rotate-45 translate-y-3":""}
            `}),(0,t.jsx)("span",{className:`
              block h-[3px] w-8 rounded-full
              bg-emerald-50 shadow
              transition-opacity duration-300
              ${l?"opacity-0":""}
            `}),(0,t.jsx)("span",{className:`
              block h-[3px] w-8 rounded-full
              bg-emerald-50 shadow
              transition-transform duration-300
              ${l?"-rotate-45 -translate-y-3":""}
            `})]})]}),(0,t.jsxs)("div",{className:`
          lg:hidden fixed top-[5.5rem] left-1/2 -translate-x-1/2 w-[92%] max-w-7xl px-6 py-6
          rounded-3xl
          bg-slate-900/95
          backdrop-blur-2xl
          shadow-[0_20px_40px_rgba(0,0,0,0.8)]
          border border-emerald-500/30
          transition-all duration-500 z-[9999]
          ${l?"opacity-100 translate-y-0":"opacity-0 -translate-y-3 pointer-events-none"}
        `,children:[(0,t.jsxs)("ul",{className:"flex flex-col gap-5 text-base font-medium text-emerald-50",children:[(0,t.jsx)("li",{onClick:()=>u("/"),className:"hover:text-emerald-300 cursor-pointer",children:"Home"}),(0,t.jsx)("li",{onClick:()=>u("/Participate"),className:"hover:text-emerald-300 cursor-pointer",children:"Map"}),(0,t.jsx)("li",{onClick:()=>u("/task"),className:"hover:text-emerald-300 cursor-pointer",children:"Weekly Quests"}),(0,t.jsx)("li",{onClick:()=>u("/shop"),className:"hover:text-emerald-300 cursor-pointer",children:"Rewards"})]}),(0,t.jsx)("div",{className:"mt-6 flex flex-col gap-3",children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-emerald-100 font-semibold",children:c.email}),(0,t.jsx)("button",{onClick:()=>u("/Dashboard"),className:" w-full py-3 rounded-full bg-emerald-500/10 text-emerald-100 font-bold border border-emerald-400/40 hover:bg-emerald-500/20 transition-all shadow-md ",children:"Dashboard"}),(0,t.jsx)("button",{onClick:()=>u("/shop/inventory"),className:" w-full py-3 rounded-full bg-emerald-500/10 text-emerald-100 font-bold border border-emerald-400/40 hover:bg-emerald-500/20 transition-all shadow-md ",children:"Inventory"}),(0,t.jsx)("button",{onClick:f,className:" w-full py-3 rounded-full bg-red-500/15 text-red-200 font-bold border border-red-400/40 hover:bg-red-500/30 transition-all shadow-md ",children:"Logout"})]}):(0,t.jsx)("button",{onClick:()=>u("/api/login"),className:" w-full py-3 rounded-full bg-emerald-500 text-white font-bold hover:bg-emerald-400 transition-all shadow-lg shadow-emerald-500/50 ",children:"Login"})})]})]})}])},56691,e=>{"use strict";var t=e.i(43476),a=e.i(932),r=e.i(75254);let n=(0,r.default)("facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),l=(0,r.default)("instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),o=(0,r.default)("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),s=(0,r.default)("github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);e.s(["default",0,()=>{let e,r,i,c,d,m,h,u,f,x,p=(0,a.c)(10);return p[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[500px] h-[500px] bg-green-500/20 blur-[120px] rounded-full"}),p[0]=e):e=p[0],p[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h1",{className:"text-4xl font-extrabold tracking-tight text-white drop-shadow-[0_0_12px_rgba(0,255,0,0.5)]",children:[(0,t.jsx)("span",{className:"text-green-400",children:"Clean"}),"TM"]}),(0,t.jsx)("p",{className:"text-lg text-gray-400 font-semibold",children:"Together to make a change!"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 leading-relaxed",children:"We are building a greener future through community-driven action. Track progress, earn rewards, and contribute to a cleaner world."})]}),p[1]=r):r=p[1],p[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 relative w-fit",children:["Quick Links",(0,t.jsx)("span",{className:"absolute left-0 -bottom-1 w-1/2 h-[3px] bg-green-400 rounded-full"})]}),p[2]=i):i=p[2],p[3]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsxs)("div",{children:[i,(0,t.jsxs)("ul",{className:"space-y-2 font-medium",children:[(0,t.jsx)("li",{className:"hover:text-green-400 transition hover:underline-animation-b w-fit cursor-pointer",children:"Home"}),(0,t.jsx)("li",{className:"hover:text-green-400 transition hover:underline-animation-b w-fit cursor-pointer",children:"Map"}),(0,t.jsx)("li",{className:"hover:text-green-400 transition hover:underline-animation-b w-fit cursor-pointer",children:"Tasks"}),(0,t.jsx)("li",{className:"hover:text-green-400 transition hover:underline-animation-b w-fit cursor-pointer",children:"Rewards"})]})]}),p[3]=c):c=p[3],p[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 relative w-fit",children:["Follow Us",(0,t.jsx)("span",{className:"absolute left-0 -bottom-1 w-1/2 h-[3px] bg-green-400 rounded-full"})]}),p[4]=d):d=p[4],p[5]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)("a",{className:"hover:text-green-400 transition hover:bg-green-400 rounded-full p-2 hover:text-white",href:"#",children:(0,t.jsx)(n,{className:"w-6 h-6  z-50"})}),p[5]=m):m=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsx)("a",{className:"hover:text-green-400 transition hover:bg-green-400 rounded-full p-2 hover:text-white",href:"#",children:(0,t.jsx)(l,{className:"w-6 h-6 z-50"})}),p[6]=h):h=p[6],p[7]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)("a",{className:"hover:text-green-400 transition hover:bg-green-400 rounded-full p-2 hover:text-white",href:"#",children:(0,t.jsx)(o,{className:"w-6 h-6 z-50"})}),p[7]=u):u=p[7],p[8]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-14",children:[r,c,(0,t.jsxs)("div",{children:[d,(0,t.jsxs)("div",{className:"flex gap-4 text-2xl",children:[m,h,u,(0,t.jsx)("a",{className:"hover:text-green-400 transition hover:bg-green-400 rounded-full p-2 hover:text-white",href:"#",children:(0,t.jsx)(s,{className:"w-6 h-6 z-50"})})]})]})]}),p[8]=f):f=p[8],p[9]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsxs)("footer",{className:"relative overflow-hidden bg-gray-900 text-gray-300 pt-16 pb-15 sm:pb-10 ",children:[e,(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-6 lg:px-10 relative z-10",children:[f,(0,t.jsxs)("div",{className:"border-t border-white/10 mt-14 pt-6 text-center text-sm text-gray-500",children:["Â© ",new Date().getFullYear()," CleanTM â€” All rights reserved."]})]})]}),p[9]=x):x=p[9],x}],56691)},32115,e=>{"use strict";var t=e.i(43476),a=e.i(932),r=e.i(71645),n=e.i(62319),l=e.i(56691),o={};!function e(t,a,r,n){var l,o,s,i,c,d,m,h,u,f,x,p=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),b="function"==typeof Path2D&&"function"==typeof DOMMatrix;function g(){}function w(e){var r=a.exports.Promise,n=void 0!==r?r:t.Promise;return"function"==typeof n?new n(e):(e(g,g),null)}var v=(l=function(){if(!t.OffscreenCanvas)return!1;try{var e=new OffscreenCanvas(1,1),a=e.getContext("2d");a.fillRect(0,0,1,1);var r=e.transferToImageBitmap();a.createPattern(r,"no-repeat")}catch(e){return!1}return!0}(),o=new Map,{transform:function(e){if(l)return e;if(o.has(e))return o.get(e);var t=new OffscreenCanvas(e.width,e.height);return t.getContext("2d").drawImage(e,0,0),o.set(e,t),t},clear:function(){o.clear()}}),y=(c=Math.floor(1e3/60),d={},m=0,"function"==typeof requestAnimationFrame&&"function"==typeof cancelAnimationFrame?(s=function(e){var t=Math.random();return d[t]=requestAnimationFrame(function a(r){m===r||m+c-1<r?(m=r,delete d[t],e()):d[t]=requestAnimationFrame(a)}),t},i=function(e){d[e]&&cancelAnimationFrame(d[e])}):(s=function(e){return setTimeout(e,c)},i=function(e){return clearTimeout(e)}),{frame:s,cancel:i}),j=(f={},function(){if(h)return h;if(!r&&p){var t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {\n  if (msg.data.options) {\n    CONFETTI(msg.data.options).then(function () {\n      if (msg.data.callback) {\n        postMessage({ callback: msg.data.callback });\n      }\n    });\n  } else if (msg.data.reset) {\n    CONFETTI && CONFETTI.reset();\n  } else if (msg.data.resize) {\n    SIZE.width = msg.data.resize.width;\n    SIZE.height = msg.data.resize.height;\n  } else if (msg.data.canvas) {\n    SIZE.width = msg.data.canvas.width;\n    SIZE.height = msg.data.canvas.height;\n    CONFETTI = module.exports.create(msg.data.canvas);\n  }\n}"].join("\n");try{h=new Worker(URL.createObjectURL(new Blob([t])))}catch(e){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("ðŸŽŠ Could not load worker",e),null}var a=h;function n(e,t){a.postMessage({options:e||{},callback:t})}a.init=function(e){var t=e.transferControlToOffscreen();a.postMessage({canvas:t},[t])},a.fire=function(e,t,r){if(u)return n(e,null),u;var l=Math.random().toString(36).slice(2);return u=w(function(t){function o(e){e.data.callback===l&&(delete f[l],a.removeEventListener("message",o),u=null,v.clear(),r(),t())}a.addEventListener("message",o),n(e,l),f[l]=o.bind(null,{data:{callback:l}})})},a.reset=function(){for(var e in a.postMessage({reset:!0}),f)f[e](),delete f[e]}}return h}),N={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function M(e,t,a){var r;return r=e&&null!=e[t]?e[t]:N[t],a?a(r):r}function k(e){return e<0?0:Math.floor(e)}function C(e){return parseInt(e,16)}function _(e){return e.map(S)}function S(e){var t=String(e).replace(/[^0-9a-f]/gi,"");return t.length<6&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),{r:C(t.substring(0,2)),g:C(t.substring(2,4)),b:C(t.substring(4,6))}}function T(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function E(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function I(e,a){var l,o=!e,s=!!M(a||{},"resize"),i=!1,c=M(a,"disableForReducedMotion",Boolean),d=p&&M(a||{},"useWorker")?j():null,m=o?T:E,h=!!e&&!!d&&!!e.__confetti_initialized,u="function"==typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function f(a){var f,x=c||M(a,"disableForReducedMotion",Boolean),p=M(a,"zIndex",Number);if(x&&u)return w(function(e){e()});o&&l?e=l.canvas:o&&!e&&((f=document.createElement("canvas")).style.position="fixed",f.style.top="0px",f.style.left="0px",f.style.pointerEvents="none",f.style.zIndex=p,e=f,document.body.appendChild(e)),s&&!h&&m(e);var g={width:e.width,height:e.height};function j(){if(d){var t={getBoundingClientRect:function(){if(!o)return e.getBoundingClientRect()}};m(t),d.postMessage({resize:{width:t.width,height:t.height}});return}g.width=g.height=null}function N(){l=null,s&&(i=!1,t.removeEventListener("resize",j)),o&&e&&(document.body.contains(e)&&document.body.removeChild(e),e=null,h=!1)}return(d&&!h&&d.init(e),h=!0,d&&(e.__confetti_initialized=!0),s&&!i&&(i=!0,t.addEventListener("resize",j,!1)),d)?d.fire(a,g,N):function(t,a,o){for(var s,i,c,d,h,u,f,x=M(t,"particleCount",k),p=M(t,"angle",Number),g=M(t,"spread",Number),j=M(t,"startVelocity",Number),N=M(t,"decay",Number),C=M(t,"gravity",Number),S=M(t,"drift",Number),T=M(t,"colors",_),E=M(t,"ticks",Number),I=M(t,"shapes"),P=M(t,"scalar"),z=!!M(t,"flat"),O=((s=M(t,"origin",Object)).x=M(s,"x",Number),s.y=M(s,"y",Number),s),R=x,B=[],A=e.width*O.x,L=e.height*O.y;R--;)B.push(function(e){var t=e.angle*(Math.PI/180),a=e.spread*(Math.PI/180);return{x:e.x,y:e.y,wobble:10*Math.random(),wobbleSpeed:Math.min(.11,.1*Math.random()+.05),velocity:.5*e.startVelocity+Math.random()*e.startVelocity,angle2D:-t+(.5*a-Math.random()*a),tiltAngle:(.5*Math.random()+.25)*Math.PI,color:e.color,shape:e.shape,tick:0,totalTicks:e.ticks,decay:e.decay,drift:e.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*e.gravity,ovalScalar:.6,scalar:e.scalar,flat:e.flat}}({x:A,y:L,angle:p,spread:g,startVelocity:j,color:T[R%T.length],shape:I[Math.floor(Math.random()*(I.length-0))+0],ticks:E,decay:N,gravity:C,drift:S,scalar:P,flat:z}));return l?l.addFettis(B):(i=e,h=B.slice(),u=i.getContext("2d"),f=w(function(e){function t(){c=d=null,u.clearRect(0,0,a.width,a.height),v.clear(),o(),e()}c=y.frame(function e(){r&&(a.width!==n.width||a.height!==n.height)&&(a.width=i.width=n.width,a.height=i.height=n.height),a.width||a.height||(m(i),a.width=i.width,a.height=i.height),u.clearRect(0,0,a.width,a.height),(h=h.filter(function(e){return function(e,t){t.x+=Math.cos(t.angle2D)*t.velocity+t.drift,t.y+=Math.sin(t.angle2D)*t.velocity+t.gravity,t.velocity*=t.decay,t.flat?(t.wobble=0,t.wobbleX=t.x+10*t.scalar,t.wobbleY=t.y+10*t.scalar,t.tiltSin=0,t.tiltCos=0,t.random=1):(t.wobble+=t.wobbleSpeed,t.wobbleX=t.x+10*t.scalar*Math.cos(t.wobble),t.wobbleY=t.y+10*t.scalar*Math.sin(t.wobble),t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+2);var a,r,n,l,o,s,i,c,d,m,h,u,f,x,p,g,w=t.tick++/t.totalTicks,y=t.x+t.random*t.tiltCos,j=t.y+t.random*t.tiltSin,N=t.wobbleX+t.random*t.tiltCos,M=t.wobbleY+t.random*t.tiltSin;if(e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-w)+")",e.beginPath(),b&&"path"===t.shape.type&&"string"==typeof t.shape.path&&Array.isArray(t.shape.matrix)){e.fill((a=t.shape.path,r=t.shape.matrix,n=t.x,l=t.y,o=.1*Math.abs(N-y),s=.1*Math.abs(M-j),i=Math.PI/10*t.wobble,c=new Path2D(a),(d=new Path2D).addPath(c,new DOMMatrix(r)),(m=new Path2D).addPath(d,new DOMMatrix([Math.cos(i)*o,Math.sin(i)*o,-Math.sin(i)*s,Math.cos(i)*s,n,l])),m))}else if("bitmap"===t.shape.type){var k=Math.PI/10*t.wobble,C=.1*Math.abs(N-y),_=.1*Math.abs(M-j),S=t.shape.bitmap.width*t.scalar,T=t.shape.bitmap.height*t.scalar,E=new DOMMatrix([Math.cos(k)*C,Math.sin(k)*C,-Math.sin(k)*_,Math.cos(k)*_,t.x,t.y]);E.multiplySelf(new DOMMatrix(t.shape.matrix));var I=e.createPattern(v.transform(t.shape.bitmap),"no-repeat");I.setTransform(E),e.globalAlpha=1-w,e.fillStyle=I,e.fillRect(t.x-S/2,t.y-T/2,S,T),e.globalAlpha=1}else if("circle"===t.shape)e.ellipse?e.ellipse(t.x,t.y,Math.abs(N-y)*t.ovalScalar,Math.abs(M-j)*t.ovalScalar,Math.PI/10*t.wobble,0,2*Math.PI):(h=t.x,u=t.y,f=Math.abs(N-y)*t.ovalScalar,x=Math.abs(M-j)*t.ovalScalar,p=Math.PI/10*t.wobble,g=2*Math.PI,e.save(),e.translate(h,u),e.rotate(p),e.scale(f,x),e.arc(0,0,1,0,g,void 0),e.restore());else if("star"===t.shape)for(var P=Math.PI/2*3,z=4*t.scalar,O=8*t.scalar,R=t.x,B=t.y,A=5,L=Math.PI/5;A--;)R=t.x+Math.cos(P)*O,B=t.y+Math.sin(P)*O,e.lineTo(R,B),P+=L,R=t.x+Math.cos(P)*z,B=t.y+Math.sin(P)*z,e.lineTo(R,B),P+=L;else e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(j)),e.lineTo(Math.floor(N),Math.floor(M)),e.lineTo(Math.floor(y),Math.floor(t.wobbleY));return e.closePath(),e.fill(),t.tick<t.totalTicks}(u,e)})).length?c=y.frame(e):t()}),d=t}),(l={addFettis:function(e){return h=h.concat(e),f},canvas:i,promise:f,reset:function(){c&&y.cancel(c),d&&d()}}).promise)}(a,g,N)}return f.reset=function(){d&&d.reset(),l&&l.reset()},f}function P(){return x||(x=I(null,{useWorker:!0,resize:!0})),x}a.exports=function(){return P().apply(this,arguments)},a.exports.reset=function(){P().reset()},a.exports.create=I,a.exports.shapeFromPath=function(e){if(!b)throw Error("path confetti are not supported in this browser");"string"==typeof e?r=e:(r=e.path,n=e.matrix);var t=new Path2D(r),a=document.createElement("canvas").getContext("2d");if(!n){for(var r,n,l,o,s=1e3,i=1e3,c=0,d=0,m=0;m<1e3;m+=2)for(var h=0;h<1e3;h+=2)a.isPointInPath(t,m,h,"nonzero")&&(s=Math.min(s,m),i=Math.min(i,h),c=Math.max(c,m),d=Math.max(d,h));l=c-s;var u=Math.min(10/l,10/(o=d-i));n=[u,0,0,u,-Math.round(l/2+s)*u,-Math.round(o/2+i)*u]}return{type:"path",path:r,matrix:n}},a.exports.shapeFromText=function(e){var t,a=1,r="#000000",n='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';"string"==typeof e?t=e:(t=e.text,a="scalar"in e?e.scalar:a,n="fontFamily"in e?e.fontFamily:n,r="color"in e?e.color:r);var l=10*a,o=""+l+"px "+n,s=new OffscreenCanvas(l,l),i=s.getContext("2d");i.font=o;var c=i.measureText(t),d=Math.ceil(c.actualBoundingBoxRight+c.actualBoundingBoxLeft),m=Math.ceil(c.actualBoundingBoxAscent+c.actualBoundingBoxDescent),h=c.actualBoundingBoxLeft+2,u=c.actualBoundingBoxAscent+2;d+=4,m+=4,(i=(s=new OffscreenCanvas(d,m)).getContext("2d")).font=o,i.fillStyle=r,i.fillText(t,h,u);var f=1/a;return{type:"bitmap",bitmap:s.transferToImageBitmap(),matrix:[f,0,0,f,-d*f/2,-m*f/2]}}}(function(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:this||{}}(),o,!1);let s=o.exports;o.exports.create;let i=e=>{let n,l,o,i,c,d,m,h,u=(0,a.c)(26),{item:f,userPoints:x,onBuy:p}=e,b=x>=f.price,[g,w]=(0,r.useState)(!1);u[0]!==b||u[1]!==g||u[2]!==f.id||u[3]!==p?(n=async()=>{if(!b||g)return;w(!0);let e=await p(f.id);w(!1),e&&s({particleCount:100,spread:70,origin:{y:.6}})},u[0]=b,u[1]=g,u[2]=f.id,u[3]=p,u[4]=n):n=u[4];let v=n;u[5]!==f.imageUrl||u[6]!==f.name?(l=(0,t.jsx)("img",{src:f.imageUrl,alt:f.name,className:"w-32 h-32 object-contain mb-6 mt-2 drop-shadow-[0_10px_20px_rgba(0,0,0,0.4)]"}),u[5]=f.imageUrl,u[6]=f.name,u[7]=l):l=u[7],u[8]!==f.name?(o=(0,t.jsx)("h3",{className:"text-2xl font-extrabold text-[#4db874] mb-2 text-center",children:f.name}),u[8]=f.name,u[9]=o):o=u[9],u[10]!==f.description?(i=(0,t.jsx)("p",{className:"text-[#5acc84] text-center mb-4",children:f.description}),u[10]=f.description,u[11]=i):i=u[11],u[12]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)("span",{className:"text-sky-300 text-xl",children:"ðŸ’Ž"}),u[12]=c):c=u[12],u[13]!==f.price?(d=(0,t.jsxs)("p",{className:"text-[#46e881] font-extrabold mb-2 flex items-center gap-2",children:[c,(0,t.jsx)("span",{children:f.price})]}),u[13]=f.price,u[14]=d):d=u[14];let y=!b||g,j=`w-full py-3 rounded-full font-bold text-white shadow-md transition-all duration-300 text-sm
              ${b?"bg-[#3bab50] hover:bg-[#197e00] hover:shadow-[0_10px_20px_rgba(0,0,0,0.4)] cursor-pointer":"bg-[#c3c7d0] text-[#5b6470] cursor-not-allowed"}`,N=g?"Buying...":b?"Redeem":"Not enough points";return u[15]!==v||u[16]!==y||u[17]!==j||u[18]!==N?(m=(0,t.jsx)("div",{className:"mt-auto w-full",children:(0,t.jsx)("button",{onClick:v,disabled:y,className:j,children:N})}),u[15]=v,u[16]=y,u[17]=j,u[18]=N,u[19]=m):m=u[19],u[20]!==m||u[21]!==l||u[22]!==o||u[23]!==i||u[24]!==d?(h=(0,t.jsx)("div",{className:"h-full flex",children:(0,t.jsxs)("div",{className:"relative flex flex-col items-center h-full w-full bg-[#5b6470] rounded-[32px] shadow-[0_18px_0_rgba(0,0,0,0.55)] border border-[#7b8490]/60 px-8 py-6",children:[l,o,i,d,m]})}),u[20]=m,u[21]=l,u[22]=o,u[23]=i,u[24]=d,u[25]=h):h=u[25],h};function c(){let e,o,s,c,h,u,f,x,p,b,g,w,v,y,j,N=(0,a.c)(22);N[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],N[0]=e):e=N[0];let[M,k]=(0,r.useState)(e),[C,_]=(0,r.useState)(0);N[1]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{fetch("/api/shop/getItems").then(m).then(e=>k(e.items)),fetch("/api/auth/me").then(d).then(e=>_(e.user?.points||0))},s=[],N[1]=o,N[2]=s):(o=N[1],s=N[2]),(0,r.useEffect)(o,s),N[3]===Symbol.for("react.memo_cache_sentinel")?(c=async e=>{try{let t=await fetch("/api/shop/buyItem",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemId:e})}),a=await t.json();if(a.success)return _(a.pointsLeft),!0;return alert(a.error),!1}catch(e){return console.error("Error buying item:",e),alert("Something went wrong."),!1}},N[3]=c):c=N[3];let S=c;return N[4]===Symbol.for("react.memo_cache_sentinel")?(h=(0,t.jsx)(n.default,{}),N[4]=h):h=N[4],N[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-500/10 border border-emerald-400/40 px-4 py-1 text-[11px] font-semibold uppercase tracking-[0.18em] text-emerald-200",children:["Rewards shop",(0,t.jsx)("span",{className:"h-1 w-1 rounded-full bg-emerald-300"})]}),(0,t.jsx)("h1",{className:"mt-3 text-3xl md:text-4xl lg:text-5xl font-extrabold bg-gradient-to-b from-emerald-100 via-white to-emerald-200 text-transparent bg-clip-text drop-shadow-[0_0_24px_rgba(16,185,129,0.8)]",children:"ðŸŽ CleanTM Rewards"}),(0,t.jsx)("p",{className:"mt-2 text-sm md:text-base text-emerald-100/80 max-w-xl",children:"Spend the points youâ€™ve earned from cleanup quests on perks, discounts and small rewards from our partners."})]}),N[5]=u):u=N[5],N[6]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsx)("div",{className:"text-[11px] uppercase tracking-[0.22em] text-emerald-200",children:"Your points"}),N[6]=f):f=N[6],N[7]!==C?(x=(0,t.jsxs)("div",{className:"mt-1 text-3xl font-extrabold text-emerald-50",children:["ðŸ’Ž ",C]}),N[7]=C,N[8]=x):x=N[8],N[9]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)("div",{className:"mt-1 text-[11px] text-emerald-200/80",children:"Earn more by completing weekly quests and map missions."}),b=(0,t.jsx)("div",{className:"pointer-events-none absolute inset-x-6 -top-2 h-[1px] bg-gradient-to-r from-transparent via-emerald-300 to-transparent opacity-80"}),N[9]=p,N[10]=b):(p=N[9],b=N[10]),N[11]!==x?(g=(0,t.jsxs)("header",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between mb-10",children:[u,(0,t.jsxs)("div",{className:"relative mt-4 md:mt-0 rounded-2xl bg-slate-900/80 border border-emerald-400/60 px-6 py-4 shadow-[0_0_35px_rgba(16,185,129,0.7)] backdrop-blur-xl min-w-[220px] text-center md:text-left",children:[f,x,p,b]})]}),N[11]=x,N[12]=g):g=N[12],N[13]!==M||N[14]!==C?(w=0===M.length?(0,t.jsx)("div",{className:"mt-10 flex justify-center",children:(0,t.jsx)("div",{className:"px-6 py-4 rounded-2xl bg-slate-900/80 border border-emerald-400/30 text-sm text-emerald-100 shadow-lg shadow-emerald-900/50",children:"No rewards available yet. Check back soon as partners add new items."})}):(0,t.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-7 items-stretch",children:M.map(e=>(0,t.jsx)("div",{className:"h-full",children:(0,t.jsx)(i,{item:e,userPoints:C,onBuy:S})},e.id))}),N[13]=M,N[14]=C,N[15]=w):w=N[15],N[16]!==g||N[17]!==w?(v=(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-emerald-900 pt-32 pb-20 px-5 md:px-10 flex flex-col items-center",children:(0,t.jsxs)("div",{className:"w-full max-w-6xl",children:[g,w]})}),N[16]=g,N[17]=w,N[18]=v):v=N[18],N[19]===Symbol.for("react.memo_cache_sentinel")?(y=(0,t.jsx)(l.default,{}),N[19]=y):y=N[19],N[20]!==v?(j=(0,t.jsxs)(t.Fragment,{children:[h,v,y]}),N[20]=v,N[21]=j):j=N[21],j}function d(e){return e.json()}function m(e){return e.json()}e.s(["default",()=>c],32115)}]);