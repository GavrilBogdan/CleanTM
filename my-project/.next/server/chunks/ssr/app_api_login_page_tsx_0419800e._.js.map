{"version":3,"sources":["../../../../app/api/login/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\n\nexport default function LoginPage() {\n  const router = useRouter();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleLogin = async () => {\n    if (!email || !password || loading) return;\n    setLoading(true);\n    setMessage(\"\");\n\n    try {\n      const res = await fetch(\"/api/auth/login\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ email, password }),\n      });\n      const data = await res.json();\n\n      if (!res.ok) {\n        setMessage(`❌ ${data.error || \"Login failed\"}`);\n      } else {\n        setMessage(\"✅ Login successful! Redirecting...\");\n        setTimeout(() => router.push(\"/\"), 600);\n      }\n    } catch (err) {\n      setMessage(\"❌ Something went wrong. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => {\n    if (e.key === \"Enter\") {\n      handleLogin();\n    }\n  };\n\n  return (\n    <div className=\"relative min-h-screen flex items-center justify-center overflow-hidden bg-gradient-to-br from-slate-950 via-slate-900 to-emerald-900\">\n      {/* Glow blobs */}\n      <div className=\"pointer-events-none absolute -top-32 -left-32 h-72 w-72 rounded-full bg-emerald-500/30 blur-3xl\" />\n      <div className=\"pointer-events-none absolute bottom-[-120px] right-[-80px] h-80 w-80 rounded-full bg-teal-500/30 blur-3xl\" />\n      <div className=\"pointer-events-none absolute top-1/3 right-10 h-52 w-52 rounded-full bg-emerald-400/20 blur-3xl\" />\n\n      {/* Particles */}\n      <div className=\"pointer-events-none absolute inset-0\">\n        <span className=\"absolute top-10 left-16 h-1 w-1 rounded-full bg-emerald-300 opacity-80 float-slow\" />\n        <span className=\"absolute top-32 right-24 h-1 w-1 rounded-full bg-emerald-200 opacity-70 float-slower\" />\n        <span className=\"absolute bottom-24 left-20 h-1 w-1 rounded-full bg-emerald-400 opacity-80 float-slow\" />\n        <span className=\"absolute bottom-10 right-10 h-1 w-1 rounded-full bg-emerald-300 opacity-80 float-slower\" />\n        <span className=\"absolute top-1/2 left-1/4 h-1 w-1 rounded-full bg-emerald-200 opacity-70 float-slow\" />\n      </div>\n\n      {/* Card */}\n      <div className=\"relative z-10 w-full max-w-md px-8 py-10 rounded-3xl bg-white/5 border border-emerald-500/30 shadow-[0_0_60px_rgba(16,185,129,0.35)] backdrop-blur-2xl\">\n        {/* Badge / title */}\n        <div className=\"flex items-center justify-between mb-6\">\n          <div>\n            <p className=\"text-xs font-semibold uppercase tracking-[0.2em] text-emerald-300\">\n              Welcome back\n            </p>\n            <h1 className=\"mt-1 text-3xl font-extrabold bg-gradient-to-b from-white to-slate-300 bg-clip-text text-transparent tracking-wide\">\n              Sign in to CleanTM\n            </h1>\n          </div>\n          <div className=\"h-10 w-10 rounded-2xl bg-emerald-500/20 border border-emerald-400/40 flex items-center justify-center shadow-lg shadow-emerald-500/40\">\n            <span className=\"text-xl\">♻️</span>\n          </div>\n        </div>\n\n        <p className=\"text-xs text-slate-300/80 mb-6\">\n          Continue your cleanup quests, earn points and unlock rewards.\n        </p>\n\n        {/* Inputs */}\n        <div className=\"space-y-5\">\n          <div className=\"space-y-2\">\n            <label className=\"text-xs font-semibold text-slate-200\">\n              Email\n            </label>\n            <div className=\"relative\">\n              <input\n                type=\"email\"\n                placeholder=\"you@example.com\"\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                onKeyDown={handleKeyDown}\n                className=\"w-full rounded-2xl border border-emerald-500/30 bg-slate-900/40 px-4 py-3 text-sm text-emerald-50 placeholder:text-slate-500 outline-none focus:border-emerald-400 focus:ring-2 focus:ring-emerald-500/40 transition\"\n              />\n              <div className=\"pointer-events-none absolute inset-px rounded-2xl border border-emerald-400/10 blur-[1px]\" />\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <label className=\"text-xs font-semibold text-slate-200\">\n              Password\n            </label>\n            <div className=\"relative\">\n              <input\n                type=\"password\"\n                placeholder=\"••••••••\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                onKeyDown={handleKeyDown}\n                className=\"w-full rounded-2xl border border-emerald-500/30 bg-slate-900/40 px-4 py-3 text-sm text-emerald-50 placeholder:text-slate-500 outline-none focus:border-emerald-400 focus:ring-2 focus:ring-emerald-500/40 transition\"\n              />\n              <div className=\"pointer-events-none absolute inset-px rounded-2xl border border-emerald-400/10 blur-[1px]\" />\n            </div>\n          </div>\n        </div>\n\n        {/* Message */}\n        {message && (\n          <p className=\"mt-4 text-xs font-medium text-emerald-100\">{message}</p>\n        )}\n\n        {/* Button */}\n        <button\n          onClick={handleLogin}\n          disabled={!email || !password || loading}\n          className={`\n            group relative mt-6 w-full overflow-hidden rounded-2xl border border-emerald-400/60\n            bg-gradient-to-r from-emerald-500/80 via-emerald-600 to-teal-500\n            py-3 text-sm font-bold tracking-wide text-white shadow-lg shadow-emerald-500/40\n            transition-all duration-300\n            hover:shadow-emerald-400/60 hover:-translate-y-[1px]\n            disabled:opacity-60 disabled:cursor-not-allowed\n          `}\n        >\n          <span className=\"relative z-10 flex items-center justify-center gap-2\">\n            {loading && (\n              <span className=\"h-4 w-4 rounded-full border-2 border-white/40 border-t-transparent animate-spin\" />\n            )}\n            {loading ? \"Signing in...\" : \"Sign In\"}\n          </span>\n          <span\n            className=\"\n              pointer-events-none absolute inset-0 translate-x-[-100%]\n              bg-gradient-to-r from-white/30 via-white/40 to-white/10\n              opacity-0 transition-all duration-500\n              group-hover:translate-x-0 group-hover:opacity-100\n            \"\n          />\n        </button>\n\n        {/* Footer */}\n        <div className=\"mt-6 flex flex-col items-center gap-2 text-xs text-slate-300/80\">\n          <p>\n            Don&apos;t have an account?{\" \"}\n            <button\n              className=\"font-semibold text-emerald-300 hover:text-emerald-200 hover:underline underline-offset-4 transition\"\n              onClick={() => router.push(\"/api/signup\")}\n            >\n              Sign Up\n            </button>\n          </p>\n          <p className=\"text-[11px] text-slate-500\">\n            By signing in you continue your participation in CleanTM quests.\n          </p>\n        </div>\n      </div>\n\n      {/* Local styles for particle animation */}\n      <style>{`\n        @keyframes float-slow {\n          0% { transform: translate3d(0, 0, 0); opacity: 0.4; }\n          50% { transform: translate3d(10px, -20px, 0); opacity: 0.9; }\n          100% { transform: translate3d(0, 0, 0); opacity: 0.4; }\n        }\n        .float-slow {\n          animation: float-slow 18s ease-in-out infinite;\n        }\n        .float-slower {\n          animation: float-slow 26s ease-in-out infinite;\n        }\n      `}</style>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}