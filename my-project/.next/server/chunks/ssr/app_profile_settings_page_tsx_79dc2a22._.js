module.exports=[48022,a=>{"use strict";var b=a.i(87924),c=a.i(72131);function d(){let[a,d]=(0,c.useState)(""),[e,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/auth/me");if(!a.ok)return void h(!1);let b=(await a.json()).user;b&&(d(b.username||""),f(b.avatarUrl||""))}catch(a){console.error("Error loading user in settings:",a)}finally{h(!1)}})()},[]);let o=async()=>{j(!0),l(null),n(null);try{let b=await fetch("/api/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,avatarUrl:e})}),c=await b.json();b.ok?l("Profile updated successfully!"):n(c.error||"Failed to save profile.")}catch(a){console.error("Error saving profile:",a),n("Unexpected error.")}finally{j(!1)}};return g?(0,b.jsx)("div",{className:"min-h-screen bg-[#020617] text-white flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-sm text-gray-400",children:"Loading profile settings…"})}):(0,b.jsx)("div",{className:"min-h-screen bg-[#020617] text-white px-6 py-10 flex justify-center",children:(0,b.jsxs)("div",{className:"w-full max-w-lg bg-[#020617] border border-[#1e293b] rounded-2xl p-6 shadow-xl",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold mb-2",children:"Profile settings"}),(0,b.jsx)("p",{className:"text-xs text-gray-400 mb-6",children:"Customize your username and avatar. These will appear on leaderboards and your profile."}),(0,b.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-gray-300 mb-1",children:"Username"}),(0,b.jsx)("input",{value:a,onChange:a=>d(a.target.value),placeholder:"@eco.hero",className:"w-full rounded-lg bg-[#020617] border border-[#1e293b] px-3 py-2 outline-none text-sm text-gray-100 placeholder:text-gray-500 focus:border-emerald-500"}),(0,b.jsx)("p",{className:"text-[11px] text-gray-500 mt-1",children:"3–20 characters. Unique across the platform."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-gray-300 mb-1",children:"Avatar URL"}),(0,b.jsx)("input",{value:e,onChange:a=>f(a.target.value),placeholder:"https://example.com/avatar.png",className:"w-full rounded-lg bg-[#020617] border border-[#1e293b] px-3 py-2 outline-none text-sm text-gray-100 placeholder:text-gray-500 focus:border-emerald-500"}),(0,b.jsx)("p",{className:"text-[11px] text-gray-500 mt-1",children:"For now, paste an image URL. (Later you can add an upload system.)"})]}),e&&(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsx)("p",{className:"text-[11px] text-gray-400 mb-1",children:"Avatar preview:"}),(0,b.jsx)("div",{className:"w-16 h-16 rounded-xl overflow-hidden border border-[#1e293b]",children:(0,b.jsx)("img",{src:e,alt:"Avatar preview",className:"w-full h-full object-cover"})})]})]}),m&&(0,b.jsx)("p",{className:"mt-4 text-xs text-red-400 bg-red-950/30 border border-red-900/60 rounded-md px-3 py-2",children:m}),k&&(0,b.jsx)("p",{className:"mt-4 text-xs text-emerald-300 bg-emerald-950/30 border border-emerald-900/60 rounded-md px-3 py-2",children:k}),(0,b.jsx)("button",{onClick:o,disabled:i,className:`mt-6 w-full py-2.5 rounded-full text-sm font-semibold 
            bg-emerald-600 hover:bg-emerald-500 transition 
            disabled:opacity-50 disabled:cursor-not-allowed`,children:i?"Saving…":"Save changes"})]})})}a.s(["default",()=>d])}];

//# sourceMappingURL=app_profile_settings_page_tsx_79dc2a22._.js.map